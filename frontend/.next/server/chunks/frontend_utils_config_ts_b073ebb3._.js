module.exports=[68465,t=>{"use strict";var e=class extends Error{constructor(t,e,r){super(t),this.statusCode=e,this.details=r,this.name="PinataError"}},r=class extends e{constructor(t,e,r){super(t,e,r),this.name="NetworkError"}},a=class extends e{constructor(t,e,r){super(t,e,r),this.name="AuthenticationError"}},i=class extends e{constructor(t,e){super(t,void 0,e),this.name="ValidationError"}};function n(t){var e,r;return e=t=t.trim(),/^Qm[1-9A-HJ-NP-Za-km-z]{44}$/.test(e)||(r=t,/^b[a-z2-7]{58,}$/.test(r))}async function o(t){let e;if("string"!=typeof t)throw Error("Input is not a string");let r=t=>{let e=t.split("/");return n(e[0])?e[0]:null},a=r(t);if(a)return{containsCid:!0,cid:a};try{e=new URL(t)}catch(e){for(let e of t.split(/\/|\?/)){let t=r(e);if(t)return{containsCid:!0,cid:t}}return{containsCid:!1,cid:null}}for(let t of e.hostname.split("."))if(n(t))return{containsCid:!0,cid:t};for(let t of e.pathname.split("/")){let e=r(t);if(e)return{containsCid:!0,cid:e}}return{containsCid:!1,cid:null}}async function s(t,e){let r=await o(t);if(!0!==r.containsCid)throw Error("url does not contain CID");if(!t.startsWith("https")&&!t.startsWith("ipfs://"))return`${e}/ipfs/${t}`;let a=new URL(t),i=a.pathname+a.search+a.hash;if(t.startsWith(`ipfs://${r.cid}`))return`${e}/ipfs/${r.cid}${i}`;if(t.includes(`/ipfs/${r.cid}`)||t.includes(`/ipns/${r.cid}`))return`${e}${i}`;if(a.hostname.includes(r.cid))return`${e}/ipfs/${r.cid}${i}`;throw Error("unsupported URL pattern, please submit a github issue with the URL utilized")}var u=t=>{let e=t?.pinataGateway;return t&&e&&(e&&!e.startsWith("https://")&&(e=`https://${e}`),t.pinataGateway=e),t},c=async(t,n)=>{if(!t)throw new i("Pinata configuration is missing");let o=new URLSearchParams;if(n){let{cid:t,gateway_domain:e,start_date:r,end_date:a,file_name:i,user_agent:s,country:u,region:c,referer:d,limit:l,sort_order:h,date_interval:p,sort_by:w}=n;t&&o.append("cid",t),e&&o.append("gateway_domain",e),r&&o.append("start_date",r),a&&o.append("end_date",a),i&&o.append("file_name",i),s&&o.append("user_agent",s.toString()),u&&o.append("country",u.toString()),c&&o.append("region",c),d&&o.append("referer",d.toString()),l&&o.append("limit",l.toString()),h&&o.append("sort_order",h),w&&o.append("sort_by",w),p&&o.append("by",p)}let s="https://api.pinata.cloud/v3";t.endpointUrl&&(s=t.endpointUrl);let u=`${s}/ipfs/gateway_analytics_time_series?${o.toString()}`;try{let e;e=t.customHeaders&&Object.keys(t.customHeaders).length>0?{...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,Source:"sdk/analyticsDateInterval"};let i=await fetch(u,{method:"GET",headers:e});if(!i.ok){let t=await i.text();if(401===i.status||403===i.status)throw new a(`Authentication failed: ${t}`,i.status,{error:t,code:"AUTH_ERROR",metadata:{requestUrl:i.url}});throw new r(`HTTP error: ${t}`,i.status,{error:t,code:"HTTP_ERROR",metadata:{requestUrl:i.url}})}return(await i.json()).data}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing anaytics usage: ${t.message}`);throw new e("An unknown error occurred while fetching gateway usage")}},d=async(t,n)=>{if(!t)throw new i("Pinata configuration is missing");let o=new URLSearchParams;if(n){let{cid:e,gateway_domain:r,start_date:a,end_date:i,file_name:s,user_agent:u,country:c,region:d,referer:l,limit:h,sort_order:p,sort_by:w,attribute:f}=n,g=r||t.pinataGateway;if(g){let t=g.replace(/^https?:\/\//,"");o.append("gateway_domain",t)}e&&o.append("cid",e),a&&o.append("start_date",a),i&&o.append("end_date",i),s&&o.append("file_name",s),u&&o.append("user_agent",u.toString()),c&&o.append("country",c.toString()),d&&o.append("region",d),l&&o.append("referer",l.toString()),h&&o.append("limit",h.toString()),p&&o.append("sort_order",p),w&&o.append("sort_by",w),f&&o.append("by",f)}let s="https://api.pinata.cloud/v3";t.endpointUrl&&(s=t.endpointUrl);let u=`${s}/ipfs/gateway_analytics_top?${o.toString()}`;try{let e;e=t.customHeaders&&Object.keys(t.customHeaders).length>0?{...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,Source:"sdk/analyticsTopUsage"};let i=await fetch(u,{method:"GET",headers:e});if(!i.ok){let t=await i.text();if(401===i.status||403===i.status)throw new a(`Authentication failed: ${t}`,i.status,{error:t,code:"AUTH_ERROR",metadata:{requestUrl:i.url}});throw new r(`HTTP error: ${t}`,i.status,{error:t,code:"HTTP_ERROR",metadata:{requestUrl:i.url}})}return await i.json()}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing anaytics usage: ${t.message}`);throw new e("An unknown error occurred while fetching gateway usage")}},l=async t=>{let n;if(!t)throw new i("Pinata configuration is missing");let o="https://api.pinata.cloud";t.endpointUrl&&(o=t.endpointUrl),n=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,Source:"sdk/testAuthentication"};try{let t=await fetch(`${o}/data/testAuthentication`,{method:"GET",headers:n});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return await t.json()}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing authentication: ${t.message}`);throw new e("An unknown error occurred while testing authentication")}},h=t=>new Promise(e=>{setTimeout(e,t)}),p=async(t,n,o)=>{let s;if(!t)throw new i("Pinata configuration is missing");let u=[];s=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,Source:"sdk/deleteFile"};let c="https://api.pinata.cloud/v3";for(let i of(t.endpointUrl&&(c=t.endpointUrl),n))try{let t=await fetch(`${c}/files/${o}/${i}`,{method:"DELETE",headers:s});if(await h(300),!t.ok){let e=await t.text();if(401===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}});throw new r("HTTP error",t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}u.push({id:i,status:t.statusText})}catch(r){let t;t=r instanceof e?r.message:r instanceof Error?`Error deleting file ${i}: ${r.message}`:`An unknown error occurred while deleting file ${i}`,u.push({id:i,status:t})}return u},w=async(t,n)=>{let o;if(!t)throw new i("Pinata configuration is missing");o=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,Source:"sdk/vectorizeFile"};let s="https://uploads.pinata.cloud/v3";t.uploadUrl&&(s=t.uploadUrl);try{let t=await fetch(`${s}/vectorize/files/${n}`,{method:"DELETE",headers:o});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return await t.json()}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing vectorize file: ${t.message}`);throw new e("An unknown error occurred while vectorizing file")}},f=async(t,n,o)=>{let s;if(!t)throw new i("Pinata configuration is missing");s=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/deleteSwap"};let u="https://api.pinata.cloud/v3";t.endpointUrl&&(u=t.endpointUrl);try{let t=await fetch(`${u}/files/${o}/swap/${n}`,{method:"DELETE",headers:s});if(!t.ok){let i=await t.text();if(401===t.status||403===t.status)throw new a("Authentication failed",t.status,{error:i,code:"AUTH_ERROR"});if(403===t.status)throw new e("Unauthorized CID Swap Deletion",t.status,{error:i,code:"UNAUTHORIZED"});if(404===t.status)throw new e("CID not pinned to account",t.status,{error:i,code:"NOT_FOUND"});throw new r("HTTP error occurred",t.status,{error:i,code:"NETWORK_ERROR"})}return t.statusText}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing deleteSwap: ${t.message}`,void 0,{code:"DELETE_SWAP_ERROR"});throw new e("An unknown error occurred while deleting swap",void 0,{code:"UNKNOWN_ERROR"})}},g=async(t,n,o)=>{if(!t)throw new i("Pinata configuration is missing");let s=new URLSearchParams;if(o){let{name:t,group:e,cid:r,order:a,limit:i,mimeType:n,pageToken:u,cidPending:c,metadata:d,noGroup:l}=o;i&&s.append("limit",i.toString()),t&&s.append("name",t),e&&s.append("group",e),r&&s.append("cid",r),n&&s.append("mimeType",n),a&&s.append("order",a),u&&s.append("pageToken",u),c&&s.append("cidPending","true"),l&&s.append("group","null"),d&&"object"==typeof d&&Object.entries(d).forEach(([t,e])=>{s.append(`keyvalues[${t.toString()}]`,e.toString())})}let u="https://api.pinata.cloud/v3";t.endpointUrl&&(u=t.endpointUrl);let c=`${u}/files/${n}?${s.toString()}`;try{let e;e=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,Source:"sdk/listFiles"};let i=await fetch(c,{method:"GET",headers:e});if(!i.ok){let t=await i.text();if(401===i.status||403===i.status)throw new a(`Authentication failed: ${t}`,i.status,{error:t,code:"AUTH_ERROR",metadata:{requestUrl:i.url}});throw new r(`HTTP error: ${t}`,i.status,{error:t,code:"HTTP_ERROR",metadata:{requestUrl:i.url}})}return(await i.json()).data}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing list files: ${t.message}`);throw new e("An unknown error occurred while listing files")}},m=async(t,n,o)=>{let s;if(!t)throw new i("Pinata configuration is missing");let u=JSON.stringify({swap_cid:n.swapCid});s=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/swapCid"};let c="https://api.pinata.cloud/v3";t.endpointUrl&&(c=t.endpointUrl);try{let t=await fetch(`${c}/files/${o}/swap/${n.cid}`,{method:"PUT",headers:s,body:u});if(!t.ok){let i=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${i}`,t.status,{error:i,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});if(403===t.status)throw new e("Unauthorized CID Swap",t.status,{error:i,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});if(404===t.status)throw new e("CID not pinned to account",t.status,{error:i,code:"HTTP_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${i}`,t.status,{error:i,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return(await t.json()).data}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing CID Swap: ${t.message}`);throw new e("An unknown error occurred while swapping CID")}},y=async(t,n,o)=>{let s;if(!t)throw new i("Pinata configuration is missing");s=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/swapHistory"};let u="https://api.pinata.cloud/v3";t.endpointUrl&&(u=t.endpointUrl);try{let t=await fetch(`${u}/files/${o}/swap/${n.cid}?domain=${n.domain}`,{method:"GET",headers:s});if(!t.ok){let i=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${i}`,t.status,{error:i,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});if(404===t.status)throw new e("CID does not have history",t.status,{error:i,code:"HTTP_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${i}`,t.status,{error:i,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return(await t.json()).data}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error fetching swap history: ${t.message}`);throw new e("An unknown error occurred while fetching swap history")}},T=async(t,n,o)=>{let s;if(!t)throw new i("Pinata configuration is missing");if(!n.name&&(!n.keyvalues||0===Object.keys(n.keyvalues).length))throw new i("At least one of 'name' or 'keyvalues' must be provided");let u={};void 0!==n.name&&(u.name=n.name),n.keyvalues&&Object.keys(n.keyvalues).length>0&&(u.keyvalues=n.keyvalues);let c=JSON.stringify(u);s=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/updateMetadata"};let d="https://api.pinata.cloud/v3";t.endpointUrl&&(d=t.endpointUrl);try{let t=await fetch(`${d}/files/${o}/${n.id}`,{method:"PUT",headers:s,body:c});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return(await t.json()).data}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing updateFile: ${t.message}`);throw new e("An unknown error occurred while updating file")}},$=async(t,n)=>{let o;if(!t)throw new i("Pinata configuration is missing");o=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,Source:"sdk/vectorizeFile"};let s="https://uploads.pinata.cloud/v3";t.uploadUrl&&(s=t.uploadUrl);try{let t=await fetch(`${s}/vectorize/files/${n}`,{method:"POST",headers:o});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return await t.json()}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing vectorize file: ${t.message}`);throw new e("An unknown error occurred while vectorizing file")}},R=async(t,n)=>{let o;if(!t)throw new i("Pinata configuration is missing");o=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,Source:"sdk/vectorQuery"};let s="https://uploads.pinata.cloud/v3";t.uploadUrl&&(s=t.uploadUrl);let u=JSON.stringify({text:n.query});try{let i=await fetch(`${s}/vectorize/groups/${n.groupId}/query`,{method:"POST",headers:o,body:u});if(!i.ok){let t=await i.text();if(401===i.status||403===i.status)throw new a(`Authentication failed: ${t}`,i.status,{error:t,code:"AUTH_ERROR",metadata:{requestUrl:i.url}});throw new r(`HTTP error: ${t}`,i.status,{error:t,code:"HTTP_ERROR",metadata:{requestUrl:i.url}})}let c=(await i.json()).data;if(n.returnFile){if(0===c.matches.length)throw new e("No files returned in query to fetch");let r=c.matches[0].cid;return await U(t,r,"files")}return c}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing vectorize file: ${t.message}`);throw new e("An unknown error occurred while vectorizing file")}},k=async(t,n)=>{let o;if(!t)throw new i("Pinata configuration is missing");let s=new URLSearchParams({includesCount:"false"});if(n){let{cid:t,status:e,sort:r,limit:a,pageToken:i}=n;t&&s.append("cid",t.toString()),e&&s.append("status",e.toString()),r&&s.append("sort",r.toString()),a&&s.append("limit",a.toString()),i&&s.append("pageToken",i.toString())}let u="https://api.pinata.cloud/v3";t.endpointUrl&&(u=t.endpointUrl);let c=`${u}/files/public/pin_by_cid?${s.toString()}`;o=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,Source:"sdk/pinJobs"};try{let t=await fetch(c,{method:"GET",headers:o});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return(await t.json()).data}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing pinJobs: ${t.message}`);throw new e("An unknown error occurred while listing pin jobs")}},H=async(t,n)=>{let o;if(!t)throw new i("Pinata configuration is missing");o=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,Source:"sdk/deletePinRequest"};let s="https://api.pinata.cloud/v3";t.endpointUrl&&(s=t.endpointUrl);try{let t=await fetch(`${s}/files/public/pin_by_cid/${n}`,{method:"DELETE",headers:o});if(!t.ok){let e=await t.text();if(401===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}});throw new r("HTTP error",t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return"OK"}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error deleting pin by request: ${t.message}`);throw new e("An unknown error occurred while deleting pin by CID request")}},U=async(t,n,o,s)=>{let u;if(!t)throw new i("Pinata configuration is missing");let c=`${t?.pinataGateway}/${o}/${n}`,d=new URLSearchParams;s&&(s.width&&d.append("img-width",s.width.toString()),s.height&&d.append("img-height",s.height.toString()),s.dpr&&d.append("img-dpr",s.dpr.toString()),s.fit&&d.append("img-fit",s.fit),s.gravity&&d.append("img-gravity",s.gravity),s.quality&&d.append("img-quality",s.quality.toString()),s.format&&d.append("img-format",s.format),void 0!==s.animation&&d.append("img-anim",s.animation.toString()),s.sharpen&&d.append("img-sharpen",s.sharpen.toString()),!0===s.onError&&d.append("img-onerror","redirect"),s.metadata&&d.append("img-metadata",s.metadata)),t?.pinataGatewayKey&&d.append("pinataGatewayToken",t.pinataGatewayKey);let l=d.toString();if(l&&(c+=`?${l}`),"ipfs"===o){let t=await fetch(c);if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication Failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}let e=t.headers.get("content-type")?.split(";")[0]||null;return{data:e?.includes("application/json")?await t.json():e?.includes("text/")?await t.text():await t.blob(),contentType:e}}let h=JSON.stringify({url:c,date:Math.floor(new Date().getTime()/1e3),expires:30,method:"GET"}),p="https://api.pinata.cloud/v3";t.endpointUrl&&(p=t.endpointUrl),u=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:{"Content-Type":"application/json",Authorization:`Bearer ${t.pinataJwt}`,Source:"sdk/getCid"};let w=await fetch(`${p}/files/sign`,{method:"POST",headers:u,body:h}),f=await w.json();try{let t=await fetch(f.data);if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication Failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}let e=t.headers.get("content-type")?.split(";")[0]||null;return{data:e?.includes("application/json")?await t.json():e?.includes("text/")?await t.text():await t.blob(),contentType:e}}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing getCid: ${t.message}`);throw new e("An unknown error occurred while getting CID contents")}},E=async(t,e,r)=>{let a,i=r||t?.pinataGateway||"https://gateway.pinata.cloud";return a=await s(e,i),t?.pinataGatewayKey&&t?.pinataGatewayKey,a},A=async(t,n,o)=>{let s,u;if(!t)throw new i("Pinata configuration is missing");s=n?.gateway?n.gateway.startsWith("https://")?n.gateway:`https://${n.gateway}`:t.pinataGateway;let c=`${s}/files/${n.cid}`,d=new URLSearchParams;o&&(o.width&&d.append("img-width",o.width.toString()),o.height&&d.append("img-height",o.height.toString()),o.dpr&&d.append("img-dpr",o.dpr.toString()),o.fit&&d.append("img-fit",o.fit),o.gravity&&d.append("img-gravity",o.gravity),o.quality&&d.append("img-quality",o.quality.toString()),o.format&&d.append("img-format",o.format),void 0!==o.animation&&d.append("img-anim",o.animation.toString()),o.sharpen&&d.append("img-sharpen",o.sharpen.toString()),!0===o.onError&&d.append("img-onerror","redirect"),o.metadata&&d.append("img-metadata",o.metadata));let l=d.toString();l&&(c+=`?${l}`);let h=JSON.stringify({url:c,date:n?.date||Math.floor(new Date().getTime()/1e3),expires:n.expires,method:"GET"}),p="https://api.pinata.cloud/v3";t.endpointUrl&&(p=t.endpointUrl),u=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:{"Content-Type":"application/json",Authorization:`Bearer ${t.pinataJwt}`,Source:"sdk/createSignURL"};try{let t=await fetch(`${p}/files/private/download_link`,{method:"POST",headers:u,body:h});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication Failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return(await t.json()).data}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing createSignedURL: ${t.message}`);throw new e("An unknown error occurred while getting signed url")}},P=async(t,n,o)=>{let s;if(!t)throw new i("Pinata configuration is missing");let u=t=>new Promise(e=>{setTimeout(e,t)}),c=[];s=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/addToGroup"};let d="https://api.pinata.cloud/v3";for(let i of(t.endpointUrl&&(d=t.endpointUrl),n.files))try{let t=await fetch(`${d}/groups/${o}/${n.groupId}/ids/${i}`,{method:"PUT",headers:s});if(await u(300),!t.ok){let e=await t.text();if(401===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}c.push({id:i,status:t.statusText})}catch(r){let t;t=r instanceof e?r.message:r instanceof Error?`Error adding file ${i} to group: ${r.message}`:`An unknown error occurred while adding file ${i} to group`,c.push({id:i,status:t})}return c},_=async(t,n,o)=>{let s;if(!t)throw new i("Pinata configuration is missing");let u=JSON.stringify({name:n.name,is_public:n.isPublic});s=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/createGroup"};let c="https://api.pinata.cloud/v3";t.endpointUrl&&(c=t.endpointUrl);try{let t=await fetch(`${c}/groups/${o}`,{method:"POST",headers:s,body:u});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return(await t.json()).data}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing createGroup: ${t.message}`);throw new e("An unknown error occurred while creating a group")}},O=async(t,n,o)=>{let s;if(!t)throw new i("Pinata configuration is missing");s=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/deleteGroup"};let u="https://api.pinata.cloud/v3";t.endpointUrl&&(u=t.endpointUrl);try{let t=await fetch(`${u}/groups/${o}/${n.groupId}`,{method:"DELETE",headers:s});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return t.statusText}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing deleteGroup: ${t.message}`);throw new e("An unknown error occurred while deleting a group")}},q=async(t,n,o)=>{let s;if(!t)throw new i("Pinata configuration is missing");s=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/getGroup"};let u="https://api.pinata.cloud/v3";t.endpointUrl&&(u=t.endpointUrl);try{let t=await fetch(`${u}/groups/${o}/${n.groupId}`,{method:"GET",headers:s});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return(await t.json()).data}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing getGroup: ${t.message}`);throw new e("An unknown error occurred while getting info for a group")}},v=async(t,n,o)=>{let s;if(!t)throw new i("Pinata configuration is missing");s=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/listGroups"};let u=new URLSearchParams;if(o){let{pageToken:t,name:e,limit:r,isPublic:a}=o;t&&u.append("pageToken",t.toString()),a&&u.append("isPublic",a.toString()),e&&u.append("name",e),void 0!==r&&u.append("limit",r.toString())}let c="https://api.pinata.cloud/v3";t.endpointUrl&&(c=t.endpointUrl);try{let t=await fetch(`${c}/groups/${n}?${u.toString()}`,{method:"GET",headers:s});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return(await t.json()).data}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing listGroups: ${t.message}`);throw new e("An unknown error occurred while listing groups")}},S=async(t,n,o)=>{let s;if(!t)throw new i("Pinata configuration is missing");let u=t=>new Promise(e=>{setTimeout(e,t)}),c=[];s=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/addToGroup"};let d="https://api.pinata.cloud/v3";for(let i of(t.endpointUrl&&(d=t.endpointUrl),n.files))try{let t=await fetch(`${d}/groups/${o}/${n.groupId}/ids/${i}`,{method:"DELETE",headers:s});if(await u(300),!t.ok){let e=await t.text();if(401===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}c.push({id:i,status:t.statusText})}catch(r){let t;t=r instanceof e?r.message:r instanceof Error?`Error adding file ${i} to group: ${r.message}`:`An unknown error occurred while adding file ${i} to group`,c.push({id:i,status:t})}return c},b=async(t,n,o)=>{let s;if(!t)throw new i("Pinata configuration is missing");let u=JSON.stringify({name:n.name,is_public:n.isPublic});s=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/updateGroup"};let c="https://api.pinata.cloud/v3";t.endpointUrl&&(c=t.endpointUrl);try{let t=await fetch(`${c}/groups/${o}/${n.groupId}`,{method:"PUT",headers:s,body:u});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return(await t.json()).data}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing updateGroup: ${t.message}`);throw new e("An unknown error occurred while updating group")}},z=async(t,n)=>{let o;if(!t)throw new i("Pinata configuration is missing");o=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/createKey"};let s=JSON.stringify(n),u="https://api.pinata.cloud/v3";t.endpointUrl&&(u=t.endpointUrl);try{let t=await fetch(`${u}/pinata/keys`,{method:"POST",headers:o,body:s});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return await t.json()}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing createKey: ${t.message}`);throw new e("An unknown error occurred while creating API key")}},j=async(t,n)=>{let o;if(!t)throw new i("Pinata configuration is missing");o=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/listKeys"};let s=new URLSearchParams;if(n){let{offset:t,name:e,revoked:r,limitedUse:a,exhausted:i}=n;t&&s.append("offset",t.toString()),void 0!==r&&s.append("revoked",r.toString()),void 0!==a&&s.append("limitedUse",a.toString()),void 0!==i&&s.append("exhausted",i.toString()),e&&s.append("name",e)}let u="https://api.pinata.cloud/v3";t.endpointUrl&&(u=t.endpointUrl);try{let t=await fetch(`${u}/pinata/keys?${s.toString()}`,{method:"GET",headers:o});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return(await t.json()).keys}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing listKeys: ${t.message}`);throw new e("An unknown error occurred while listing API keys")}},C=t=>new Promise(e=>{setTimeout(e,t)}),x=async(t,n)=>{let o;if(!t)throw new i("Pinata configuration is missing");t.customHeaders&&Object.keys(t.customHeaders).length>0?(o={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders},o={...t.customHeaders}):o={Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/revokeKeys"};let s=[],u="https://api.pinata.cloud/v3";for(let i of(t.endpointUrl&&(u=t.endpointUrl),n))try{let t=await fetch(`${u}/pinata/keys/${i}`,{method:"PUT",headers:o});if(await C(300),!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}let e=await t.json();s.push({key:i,status:e})}catch(r){let t;t=r instanceof e?r.message:r instanceof Error?`Error revoking key ${i}: ${r.message}`:`An unknown error occurred while revoking key ${i}`,s.push({key:i,status:t})}return s},J=async(t,n,o,s)=>{let u;if(!t)throw new i("Pinata configuration is missing");let c=s?.keys||t?.pinataJwt,d=s?.metadata?.name?s?.metadata?.name:"base64 string",l=new Blob([Buffer.from(n,"base64")]),h=new FormData;h.append("file",l,d),h.append("network",o),h.append("name",d),s?.groupId&&h.append("group_id",s.groupId),s?.metadata?.keyvalues&&h.append("keyvalues",JSON.stringify(s.metadata.keyvalues)),u=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${c}`,...t.customHeaders}:{Authorization:`Bearer ${c}`,Source:"sdk/base64"};let p="https://uploads.pinata.cloud/v3";if(t.uploadUrl&&(p=t.uploadUrl),s?.url)try{let t=await fetch(s.url,{method:"POST",body:h});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return(await t.json()).data}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing base64: ${t.message}`);throw new e("An unknown error occurred while trying to upload base64")}try{let t=await fetch(`${p}/files`,{method:"POST",headers:u,body:h});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}let e=(await t.json()).data;if(s?.vectorize){let a=await fetch(`${p}/vectorize/files/${e.id}`,{method:"POST",headers:{Authorization:`Bearer ${c}`}});if(a.ok)e.vectorized=!0;else{let e=await a.text();throw new r(`HTTP error during vectorization: ${e}`,a.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}}return e}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing base64: ${t.message}`);throw new e("An unknown error occurred while trying to upload base64")}},B=async(t,n,o)=>{let s;if(!t)throw new i("Pinata configuration is missing");let u={date:n?.date||Math.floor(new Date().getTime()/1e3),expires:n.expires};n.groupId&&(u.group_id=n.groupId),n.name&&(u.filename=n.name),n.keyvalues&&(u.keyvalues=n.keyvalues),o&&(u.network=o),n.streamable&&(u.streamable=n.streamable),n.maxFileSize&&(u.max_file_size=n.maxFileSize),n.mimeTypes&&(u.allow_mime_types=n.mimeTypes);let c="https://uploads.pinata.cloud/v3";t.uploadUrl&&(c=t.uploadUrl),s=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:{"Content-Type":"application/json",Authorization:`Bearer ${t.pinataJwt}`,Source:"sdk/createSignURL"};for(let t=0;t<=3;t++)try{let t=await fetch(`${c}/files/sign`,{method:"POST",headers:s,cache:"no-store",body:JSON.stringify(u)});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication Failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return(await t.json()).data}catch(n){if(n instanceof a||n instanceof r&&n.statusCode&&n.statusCode>=400&&n.statusCode<500&&429!==n.statusCode)throw n;if(3===t){if(n instanceof e)throw n;if(n instanceof Error)throw new e(`Error processing createSignedURL: ${n.message}`);throw new e("An unknown error occurred while getting signed url")}let i=Math.min(1e3*Math.pow(2,t),4e3);await new Promise(t=>setTimeout(t,i))}throw new e("An unknown error occurred while getting signed url")},I=async(t,n,o,s)=>{let u;if(!t)throw new i("Pinata configuration is missing");let c=s?.keys||t.pinataJwt,d="https://uploads.pinata.cloud/v3";if(t.uploadUrl&&(d=t.uploadUrl),n.size>0x5a00000){let e,a;e=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${c}`,...t.customHeaders}:{Authorization:`Bearer ${c}`,Source:"sdk/file"};let i=s?.metadata?.name||n.name||"File from SDK",u=`filename ${btoa(i)},filetype ${btoa(n.type)},network ${btoa(o)}`;s?.groupId&&(u+=`,group_id ${btoa(s.groupId)}`),s?.metadata?.keyvalues&&(u+=`,keyvalues ${btoa(JSON.stringify(s.metadata.keyvalues))}`),s?.streamable&&(u+=`,streamable ${btoa("true")}`),s?.car&&(u+=`,car ${btoa("true")}`),s?.cid_version!==void 0&&(u+=`,cid_version ${btoa(s.cid_version)}`);let l=`${d}/files`;s?.url&&(l=s.url);let h=new URL(l);s?.cid_version!==void 0&&h.searchParams.set("X-Upload-Option-Cid-Version",s.cid_version.toString());let p=await fetch(h.toString(),{method:"POST",headers:{"Upload-Length":`${n.size}`,"Upload-Metadata":u,...e}}),w=p.headers.get("Location");if(!w){let t=await p.text();throw new r("Upload URL not provided",p.status,{error:t,code:"HTTP_ERROR",metadata:{requestUrl:p.url,requestHeaders:p.headers}})}let f=Math.ceil(n.size/0x3200001),g=0;for(let t=0;t<f;t++){let t=n.slice(g,g+0x3200001),i=0;for(;i<=5;)try{if((a=await fetch(w,{method:"PATCH",headers:{"Content-Type":"application/offset+octet-stream","Upload-Offset":g.toString(),...e},body:t})).ok)break;{let t=await a.text();throw Error(`HTTP ${a.status}: ${t}`)}}catch(e){if(++i>5){let t=a?await a.text().catch(()=>"Unknown error"):e instanceof Error?e.message:String(e);throw new r(`HTTP error during chunk upload after 5 retries: ${t}`,a?.status||0,{error:t,code:"HTTP_ERROR",metadata:{requestUrl:a?.url||w,retriesAttempted:5}})}let t=Math.min(1e3*Math.pow(2,i-1),1e4);await new Promise(e=>setTimeout(e,t))}g+=t.size}if(204===a.status){let e,i=a.headers.get("upload-cid");if(!t.pinataJwt)return{id:"",name:"",cid:i,size:n.size,created_at:"",number_of_files:1,group_id:null,mime_type:"",keyvalues:{},vectorized:!1,network:""};e=t.endpointUrl?t.endpointUrl:"https://api.pinata.cloud/v3";let u=await fetch(`${e}/files/${o}?cid=${i}`,{method:"GET",headers:{Authorization:`Bearer ${c}`}}),l=(await u.json()).data.files[0];if(s?.vectorize){let t=await fetch(`${d}/vectorize/files/${l.id}`,{method:"POST",headers:{Authorization:`Bearer ${c}`}});if(t.ok)l.vectorized=!0;else{let e=await t.text();throw new r(`HTTP error during vectorization: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}}return l}}u=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${c}`,...t.customHeaders}:{Authorization:`Bearer ${c}`,Source:"sdk/file"};let l=new FormData;if(l.append("file",n,n.name),l.append("network",o),l.append("name",s?.metadata?.name||n.name||"File from SDK"),s?.groupId&&l.append("group_id",s.groupId),s?.metadata?.keyvalues&&l.append("keyvalues",JSON.stringify(s.metadata.keyvalues)),s?.streamable&&l.append("streamable","true"),s?.car&&l.append("car","true"),s?.cid_version!==void 0&&l.append("cid_version",s.cid_version.toString()),s?.url)try{let t=new URL(s.url),e=await fetch(t.toString(),{method:"POST",headers:u,body:l});if(!e.ok){let t=await e.text();if(401===e.status||403===e.status)throw new a(`Authentication failed: ${t}`,e.status,{error:t,code:"AUTH_ERROR",metadata:{requestUrl:e.url}});throw new r(`HTTP error: ${t}`,e.status,{error:t,code:"HTTP_ERROR",metadata:{requestUrl:e.url}})}return(await e.json()).data}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error uploading file: ${t.message}`,void 0,{error:t.toString()});throw new e("An unknown error occurred while trying to upload file")}try{let t=await fetch(`${d}/files`,{method:"POST",headers:u,body:l});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}let e=(await t.json()).data;if(s?.vectorize){let a=await fetch(`${d}/vectorize/files/${e.id}`,{method:"POST",headers:{Authorization:`Bearer ${c}`}});if(a.ok)e.vectorized=!0;else{let e=await a.text();throw new r(`HTTP error during vectorization: ${e}`,a.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}}return e}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error uploading file: ${t.message}`,void 0,{error:t.toString()});throw new e("An unknown error occurred while trying to upload file")}},N=async(t,n,o,s)=>{let u;if(!t)throw new i("Pinata configuration is missing");let c=s?.keys||t?.pinataJwt,d=s?.metadata?.name||"folder_from_sdk",l=new FormData;for(let t of Array.from(n)){let e=t.webkitRelativePath||`${d}/${t.name}`;l.append("file",t,e)}l.append("pinataMetadata",JSON.stringify({name:d,keyvalues:s?.metadata?.keyvalues})),l.append("pinataOptions",JSON.stringify({groupId:s?.groupId,cidVersion:1})),u=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${c}`,...t.customHeaders}:{Authorization:`Bearer ${c}`,Source:"sdk/fileArray"};let h="https://api.pinata.cloud/pinning/pinFileToIPFS";t.legacyUploadUrl&&(h=t.legacyUploadUrl);try{let t=await fetch(`${h}`,{method:"POST",headers:u,body:l});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}let e=await t.json();return{id:e.ID,name:e.Name,cid:e.IpfsHash,size:e.PinSize,created_at:e.Timestamp,number_of_files:e.NumberOfFiles,mime_type:e.MimeType,group_id:e.GroupId,keyvalues:e.Keyvalues,vectorized:!1,network:"public"}}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing fileArray: ${t.message}`);throw new e("An unknown error occurred while uploading an array of files")}},D=async(t,n,o,s)=>{let u;if(!t)throw new i("Pinata configuration is missing");let c=s?.keys||t?.pinataJwt,d=new File([new Blob([JSON.stringify(n)])],"data.json",{type:"application/json"}),l=new FormData;l.append("file",d,d.name),l.append("network",o),l.append("name",s?.metadata?.name||d.name||"File from SDK"),s?.groupId&&l.append("group_id",s.groupId),s?.metadata?.keyvalues&&l.append("keyvalues",JSON.stringify(s.metadata.keyvalues)),u=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${c}`,...t.customHeaders}:{Authorization:`Bearer ${c}`,Source:"sdk/json"};let h="https://uploads.pinata.cloud/v3";if(t.uploadUrl&&(h=t.uploadUrl),s?.url)try{let t=await fetch(s.url,{method:"POST",body:l});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return(await t.json()).data}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing base64: ${t.message}`);throw new e("An unknown error occurred while trying to upload base64")}try{let t=await fetch(`${h}/files`,{method:"POST",headers:u,body:l});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}let e=(await t.json()).data;if(s?.vectorize){let a=await fetch(`${h}/vectorize/files/${e.id}`,{method:"POST",headers:{Authorization:`Bearer ${c}`}});if(a.ok)e.vectorized=!0;else{let e=await a.text();throw new r(`HTTP error during vectorization: ${e}`,a.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}}return e}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing json: ${t.message}`);throw new e("An unknown error occurred while uploading json")}},G=async(t,n,o,s)=>{let u;if(!t)throw new i("Pinata configuration is missing");let c=s?.keys||t?.pinataJwt,d=new FormData,l=await fetch(n);if(!l.ok){let t=await l.text();throw new r(`HTTP error: ${t}`,l.status,{error:t,code:"HTTP_ERROR",metadata:{requestUrl:l.url}})}let h=new Blob([await l.arrayBuffer()]),p=s?.metadata?.name??"url_upload",w=new File([h],p);d.append("file",w,p),d.append("network",o),d.append("name",p),s?.groupId&&d.append("group_id",s.groupId),s?.metadata?.keyvalues&&d.append("keyvalues",JSON.stringify(s.metadata.keyvalues)),u=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${c}`,...t.customHeaders}:{Authorization:`Bearer ${c}`,Source:"sdk/url"};let f="https://uploads.pinata.cloud/v3";if(t.uploadUrl&&(f=t.uploadUrl),s?.url)try{let t=await fetch(s.url,{method:"POST",body:d});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return(await t.json()).data}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing base64: ${t.message}`);throw new e("An unknown error occurred while trying to upload base64")}try{let t=await fetch(`${f}/files`,{method:"POST",headers:u,body:d});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}let e=(await t.json()).data;if(s?.vectorize){let a=await fetch(`${f}/vectorize/files/${e.id}`,{method:"POST",headers:{Authorization:`Bearer ${c}`}});if(a.ok)e.vectorized=!0;else{let e=await a.text();throw new r(`HTTP error during vectorization: ${e}`,a.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}}return e}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing url: ${t.message}`);throw new e("An unknown error occurred while uploading by url")}},F=async(t,n,o)=>{let s;if(!t)throw new i("Pinata configuration is missing");let u=o?.keys||t?.pinataJwt;s=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${u}`,"Content-Type":"application/json",...t.customHeaders}:{Authorization:`Bearer ${u}`,"Content-Type":"application/json",Source:"sdk/cid"};let c=JSON.stringify({cid:n,name:o?.metadata?o?.metadata?.name:n,keyvalues:o?.metadata?.keyvalues,group_id:o?.groupId,host_nodes:o?.peerAddresses}),d="https://api.pinata.cloud/v3";t.endpointUrl&&(d=t.endpointUrl);try{let t=await fetch(`${d}/files/public/pin_by_cid`,{method:"POST",headers:s,body:c});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return(await t.json()).data}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing cid: ${t.message}`);throw new e("An unknown error occurred while pinning by CID")}},L=class{constructor(t){this.config=u(t),this.requests=new V(this.config),this.bandwidth=new K(this.config)}updateConfig(t){this.config=t,this.requests.updateConfig(t),this.bandwidth.updateConfig(t)}summary(t){return new Q(this.config,t.domain,t.start,t.end,t.interval)}},M=class{constructor(t,e,r,a){this.config=t,this.query={gateway_domain:e,start_date:r,end_date:a,sort_by:"requests",attribute:"cid"}}cid(t){return this.query.attribute="cid",t&&(this.query.cid=t),this}fileName(t){return this.query.attribute="file_name",t&&(this.query.file_name=t),this}userAgent(t){return this.query.attribute="user_agent",t&&(this.query.user_agent=t),this}country(t){return this.query.attribute="country",t&&(this.query.country=t),this}region(t){return this.query.attribute="region",t&&(this.query.region=t),this}referer(t){return this.query.attribute="referer",t&&(this.query.referer=t),this}limit(t){return this.query.limit=t,this}sort(t){return this.query.sort_order=t,this}days(t){let e,r,{start:a,end:i}=(e=new Date,(r=new Date).setDate(r.getDate()-t),{start:r.toISOString().split("T")[0],end:e.toISOString().split("T")[0]});return this.query.start_date=a,this.query.end_date=i,this}then(t,e){return d(this.config,this.query).then(t,e)}},K=class extends M{constructor(t){super(t,"","",""),this.query.sort_by="bandwidth"}updateConfig(t){this.config=t}customDates(t,e){return t&&(this.query.start_date=t),e&&(this.query.end_date=e),this}from(t){return this.query.gateway_domain=t,this}},W=class{constructor(t,e){this.requestCount=0,this.lastRequestTime=0,this.MAX_REQUESTS_PER_MINUTE=30,this.MINUTE_IN_MS=6e4,this.config=t,this.query=e}cid(t){return this.query.cid=t,this}fileName(t){return this.query.file_name=t,this}userAgent(t){return this.query.user_agent=t,this}country(t){return this.query.country=t,this}region(t){return this.query.region=t,this}referer(t){return this.query.referer=t,this}limit(t){return this.query.limit=t,this}sort(t){return this.query.sort_order=t,this}async getAnalytics(){throw Error("getAnalytics method must be implemented in derived class")}then(t,e){return this.getAnalytics().then(t,e)}},V=class extends M{constructor(t){super(t,"","",""),this.query.sort_by="requests"}updateConfig(t){this.config=t}customDates(t,e){return t&&(this.query.start_date=t),e&&(this.query.end_date=e),this}from(t){return this.query.gateway_domain=t,this}},Q=class extends W{constructor(t,e,r,a,i){super(t,{gateway_domain:e,start_date:r,end_date:a,date_interval:i})}sortBy(t){return this.query.sort_by=t,this}async getAnalytics(){return c(this.config,this.query)}async all(){return this.getAnalytics()}},X=class{constructor(t,e){this.query={},this.config=t,this.privacy=e}name(t){return this.query.name=t,this}limit(t){return this.query.limit=t,this}isPublic(t){return this.query.isPublic=t,this}pageToken(t){return this.query.pageToken=t,this}then(t,e){return this.fetchPage().then(t=>(this.nextPageToken=t.next_page_token,t)).then(t,e)}async fetchPage(){return this.nextPageToken&&(this.query.pageToken=this.nextPageToken),v(this.config,this.privacy,this.query)}async *[Symbol.asyncIterator](){for(;;){let t=await this.fetchPage();for(let e of t.groups)yield e;if(!t.next_page_token)break;this.nextPageToken=t.next_page_token}}async all(){let t=[];for await(let e of this)t.push(e);return t}},Z=class{constructor(t){this.config=u(t)}updateConfig(t){this.config=t}create(t){return _(this.config,t,"public")}list(){return new X(this.config,"public")}get(t){return q(this.config,t,"public")}addFiles(t){return P(this.config,t,"public")}removeFiles(t){return S(this.config,t,"public")}update(t){return b(this.config,t,"public")}delete(t){return O(this.config,t,"public")}},Y=class{constructor(t){this.config=u(t)}updateConfig(t){this.config=t}create(t){return _(this.config,t,"private")}list(){return new X(this.config,"private")}get(t){return q(this.config,t,"private")}addFiles(t){return P(this.config,t,"private")}removeFiles(t){return S(this.config,t,"private")}update(t){return b(this.config,t,"private")}delete(t){return O(this.config,t,"private")}},tt=class{constructor(t){this.config=u(t),this.public=new Z(t),this.private=new Y(t)}updateConfig(t){this.config=t}},te=class{constructor(t){this.config=u(t)}updateConfig(t){this.config=t}create(t){return z(this.config,t)}list(){return new tr(this.config)}revoke(t){return x(this.config,t)}},tr=class{constructor(t){this.query={},this.config=t}offset(t){return this.query.offset=t,this}revoked(t){return this.query.revoked=t,this}limitedUse(t){return this.query.limitedUse=t,this}exhausted(t){return this.query.exhausted=t,this}name(t){return this.query.name=t,this}then(t,e){return j(this.config,this.query).then(t,e)}async *[Symbol.asyncIterator](){let t=!0,e=0;for(;t;){this.query.offset=e;let r=await j(this.config,this.query);for(let t of r)yield t;0===r.length?t=!1:e+=r.length}}async all(){let t=[];for await(let e of this)t.push(e);return t}},ta=class{constructor(t){this.config=u(t),this.public=new ts(t),this.private=new to(t)}updateConfig(t){this.config=t}},ti=class{constructor(t,e){this.imgOpts={},this.config=t,this.urlOpts=e}optimizeImage(t){return this.imgOpts={...this.imgOpts,...t},this}then(t,e){return A(this.config,this.urlOpts,this.imgOpts).then(t,e)}},tn=class{constructor(t,e,r){this.options={},this.config=t,this.cid=e,this.gatewayType=r}optimizeImage(t){return this.options={...this.options,...t},this}then(t,e){return U(this.config,this.cid,this.gatewayType,this.options).then(t,e)}},to=class{constructor(t){this.config=t}get(t){return new tn(this.config,t,"files")}createAccessLink(t){return new ti(this.config,t)}},ts=class{constructor(t){this.config=t}get(t){return new tn(this.config,t,"ipfs")}convert(t,e){return E(this.config,t,e)}},tu=async(t,n,o)=>{let s;if(!t)throw new i("Pinata configuration is missing");s=t.customHeaders&&Object.keys(t.customHeaders).length>0?{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/getFile"};let u="https://api.pinata.cloud/v3";t.endpointUrl&&(u=t.endpointUrl);try{let t=await fetch(`${u}/files/${o}/${n}`,{method:"GET",headers:s});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return(await t.json()).data}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing getGroup: ${t.message}`);throw new e("An unknown error occurred while getting info for a group")}},tc=class{constructor(t,e){this.query={},this.config=t,this.privacy=e}name(t){return this.query.name=t,this}group(t){return this.query.group=t,this}cid(t){return this.query.cid=t,this}mimeType(t){return this.query.mimeType=t,this}order(t){return this.query.order=t,this}limit(t){return this.query.limit=t,this}cidPending(t){return this.query.cidPending=t,this}keyvalues(t){return this.query.metadata=t,this}noGroup(t){return this.query.noGroup=t,this}pageToken(t){return this.query.pageToken=t,this}then(t,e){return this.fetchPage().then(t,e)}async fetchPage(){this.currentPageToken&&(this.query.pageToken=this.currentPageToken);let t=await g(this.config,this.privacy,this.query);return this.currentPageToken=t.next_page_token,t}async *[Symbol.asyncIterator](){for(;;){for(let t of(await this.fetchPage()).files)yield t;if(!this.currentPageToken)break}}async all(){let t=[];for await(let e of this)t.push(e);return t}},td=class{constructor(t){this.query={},this.requestCount=0,this.lastRequestTime=0,this.MAX_REQUESTS_PER_MINUTE=30,this.MINUTE_IN_MS=6e4,this.config=t}cid(t){return this.query.cid=t,this}status(t){return this.query.status=t,this}pageLimit(t){return this.query.limit=t,this}pageToken(t){return this.query.pageToken=t,this}async fetchPage(){this.currentPageToken&&(this.query.pageToken=this.currentPageToken);let t=await k(this.config,this.query);return this.currentPageToken=t.next_page_token,t}sort(t){return this.query.sort=t,this}then(t,e){return k(this.config,this.query).then(t,e)}async rateLimit(){this.requestCount++;let t=Date.now();if(this.requestCount>=this.MAX_REQUESTS_PER_MINUTE){let e=t-this.lastRequestTime;if(e<this.MINUTE_IN_MS){let t=this.MINUTE_IN_MS-e;await new Promise(e=>setTimeout(e,t))}this.requestCount=0}this.lastRequestTime=Date.now()}async *[Symbol.asyncIterator](){for(;;){for(let t of(await this.fetchPage()).jobs)yield t;if(!this.currentPageToken)break}}async all(){let t=[];for await(let e of this)t.push(e);return t}},tl=class{constructor(t){this.config=u(t)}list(){return new tc(this.config,"public")}get(t){return tu(this.config,t,"public")}delete(t){return p(this.config,t,"public")}update(t){return T(this.config,t,"public")}addSwap(t){return m(this.config,t,"public")}getSwapHistory(t){return y(this.config,t,"public")}deleteSwap(t){return f(this.config,t,"public")}queue(){return new td(this.config)}deletePinRequest(t){return H(this.config,t)}},th=class{constructor(t){this.config=u(t)}list(){return new tc(this.config,"private")}get(t){return tu(this.config,t,"private")}delete(t){return p(this.config,t,"private")}update(t){return T(this.config,t,"private")}addSwap(t){return m(this.config,t,"private")}getSwapHistory(t){return y(this.config,t,"private")}deleteSwap(t){return f(this.config,t,"private")}vectorize(t){return $(this.config,t)}queryVectors(t){return R(this.config,t)}deleteVectors(t){return w(this.config,t)}},tp=class{constructor(t){this.config=u(t),this.public=new tl(t),this.private=new th(t)}updateConfig(t){this.config=t}},tw=class{constructor(t,e,...r){this.metadata={},this.config=t,this.uploadFunction=e,this.args=r}name(t){return this.metadata||(this.metadata={}),this.metadata.name=t,this}keyvalues(t){return this.metadata||(this.metadata={}),this.metadata.keyvalues=t,this}key(t){return this.keys=t,this}vectorize(){return this.vector=!0,this}url(t){return this.uploadUrl=t,this}cidVersion(t){return this._cidVersion=t,this}group(t){return this.groupId=t,this}streamable(){return this.isStreamable=!0,this}car(){return this.carFormat=!0,this}peerAddress(t){return this.peerAddresses=t,this}then(t,e){let r=this.args[this.args.length-1]||{};return this.metadata&&(r.metadata=this.metadata),this.keys&&(r.keys=this.keys),this.groupId&&(r.groupId=this.groupId),this.vector&&(r.vectorize=this.vector),this.uploadUrl&&(r.url=this.uploadUrl),this.isStreamable&&(r.streamable=this.isStreamable),this.peerAddresses&&(r.peerAddresses=this.peerAddresses),this.carFormat&&(r.car=this.carFormat),void 0!==this._cidVersion&&(r.cid_version=this._cidVersion),this.args[this.args.length-1]=r,this.uploadFunction(this.config,...this.args).then(t,e)}},tf=class{constructor(t){this.config=u(t)}updateConfig(t){this.config=t}file(t,e){return new tw(this.config,(t,e,r)=>I(t,e,"public",r),t,e)}fileArray(t,e){return new tw(this.config,(t,e,r)=>N(t,e,"public",r),t,e)}base64(t,e){return new tw(this.config,(t,e,r)=>J(t,e,"public",r),t,e)}url(t,e){return new tw(this.config,(t,e,r)=>G(t,e,"public",r),t,e)}json(t,e){return new tw(this.config,(t,e,r)=>D(t,e,"public",r),t,e)}cid(t,e){return new tw(this.config,(t,e,r)=>F(t,e,r),t,e)}createSignedURL(t){return B(this.config,t,"public")}},tg=class{constructor(t){this.config=u(t)}updateConfig(t){this.config=t}file(t,e){return new tw(this.config,(t,e,r)=>I(t,e,"private",r),t,e)}base64(t,e){return new tw(this.config,(t,e,r)=>J(t,e,"private",r),t,e)}url(t,e){return new tw(this.config,(t,e,r)=>G(t,e,"private",r),t,e)}json(t,e){return new tw(this.config,(t,e,r)=>D(t,e,"private",r),t,e)}createSignedURL(t){return B(this.config,t,"private")}},tm=class{constructor(t){this.config=u(t),this.public=new tf(t),this.private=new tg(t)}updateConfig(t){this.config=t}},ty=async(t,n,o)=>{let s;if(!t)throw new i("Pinata configuration is missing");let u=JSON.stringify({signature:n.signature,address:n.address});s=t.customHeaders&&Object.keys(t.customHeaders).length>0?{...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/addSignature"};let c="https://api.pinata.cloud/v3";t.endpointUrl&&(c=t.endpointUrl);try{let t=await fetch(`${c}/files/${o}/signature/${n.cid}`,{method:"POST",headers:s,body:u});if(!t.ok){let i=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${i}`,t.status,{error:i,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});if(403===t.status)throw new e("Unauthorized signing, you must be the original owner of the file and it must not have a signature",t.status,{error:i,code:"HTTP_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${i}`,t.status,{error:i,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return(await t.json()).data}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing addSignature: ${t.message}`);throw new e("An unknown error occurred while adding signature to CID")}},tT=async(t,n,o)=>{let s;if(!t)throw new i("Pinata configuration is missing");s=t.customHeaders&&Object.keys(t.customHeaders).length>0?{...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/getSignature"};let u="https://api.pinata.cloud/v3";t.endpointUrl&&(u=t.endpointUrl);try{let t=await fetch(`${u}/files/${o}/signature/${n}`,{method:"GET",headers:s});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return(await t.json()).data}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing getSignature: ${t.message}`);throw new e("An unknown error occurred while fetching signature for CID")}},t$=async(t,n,o)=>{let s;if(!t)throw new i("Pinata configuration is missing");s=t.customHeaders&&Object.keys(t.customHeaders).length>0?{...t.customHeaders}:{Authorization:`Bearer ${t.pinataJwt}`,"Content-Type":"application/json",Source:"sdk/removeSignature"};let u="https://api.pinata.cloud/v3";t.endpointUrl&&(u=t.endpointUrl);try{let t=await fetch(`${u}/files/${o}/signature/${n}`,{method:"DELETE",headers:s});if(!t.ok){let e=await t.text();if(401===t.status||403===t.status)throw new a(`Authentication failed: ${e}`,t.status,{error:e,code:"AUTH_ERROR",metadata:{requestUrl:t.url}});throw new r(`HTTP error: ${e}`,t.status,{error:e,code:"HTTP_ERROR",metadata:{requestUrl:t.url}})}return"OK"}catch(t){if(t instanceof e)throw t;if(t instanceof Error)throw new e(`Error processing addSignature: ${t.message}`);throw new e("An unknown error occurred while adding signature to CID")}},tR=class{constructor(t){this.config=u(t)}updateConfig(t){this.config=t}add(t){return ty(this.config,t,"public")}get(t){return tT(this.config,t,"public")}delete(t){return t$(this.config,t,"public")}},tk=class{constructor(t){this.config=u(t),this.public=new tR(t)}updateConfig(t){this.config=t}};let tH=new class{constructor(t){this.config=u(t),this.files=new tp(this.config),this.upload=new tm(this.config),this.gateways=new ta(this.config),this.keys=new te(this.config),this.groups=new tt(this.config),this.analytics=new L(this.config),this.signatures=new tk(this.config)}setNewHeaders(t){this.config||(this.config={pinataJwt:"",customHeaders:{}}),this.config.customHeaders={...this.config.customHeaders,...t},this.files.updateConfig(this.config),this.upload.updateConfig(this.config),this.gateways.updateConfig(this.config),this.keys.updateConfig(this.config),this.groups.updateConfig(this.config),this.analytics.updateConfig(this.config),this.signatures.updateConfig(this.config)}setNewJwt(t){this.config||(this.config={pinataJwt:""}),this.config.pinataJwt=t,this.files.updateConfig(this.config),this.upload.updateConfig(this.config),this.gateways.updateConfig(this.config),this.keys.updateConfig(this.config),this.groups.updateConfig(this.config),this.analytics.updateConfig(this.config),this.signatures.updateConfig(this.config)}testAuthentication(){return l(this.config)}}({pinataJwt:`${process.env.PINATA_JWT}`,pinataGateway:`${process.env.NEXT_PUBLIC_GATEWAY_URL}`});t.s(["pinata",0,tH],68465)}];

//# sourceMappingURL=frontend_utils_config_ts_b073ebb3._.js.map