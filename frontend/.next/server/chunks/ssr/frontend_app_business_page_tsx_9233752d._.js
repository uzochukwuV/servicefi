module.exports=[41530,a=>{"use strict";var b=a.i(57850),c=a.i(91786),d=a.i(10713),e=a.i(91939),f=a.i(21130),g=a.i(44412),h=a.i(40320),i=a.i(76987),j=a.i(45056),k=a.i(6454),l=a.i(43293);function m({tokenId:a}){let{useServiceInfo:c,useServiceStats:f}=(0,g.useServiceCredit)(),[h,k]=(0,j.useState)(null),m=c(BigInt(a)),n=f(BigInt(a));if((0,j.useEffect)(()=>{k((0,l.getServiceMetadata)(a))},[a]),!m.data||!n.data)return(0,b.jsxs)(d.Card,{className:"p-6 border-2 animate-pulse",children:[(0,b.jsx)("div",{className:"h-4 bg-muted rounded w-1/2 mb-2"}),(0,b.jsx)("div",{className:"h-3 bg-muted rounded w-1/3"})]});let o=m.data[0],p=Number(m.data[2]),q=Number(m.data[3]);m.data[4],n.data[0],n.data[1];let r=Number(n.data[2]),s=n.data[4],t=n.data[5];return(0,b.jsxs)(d.Card,{className:"p-6 border-2 hover:border-accent transition-colors",children:[h?.image&&(0,b.jsx)("div",{className:"w-full h-40 rounded-md overflow-hidden bg-muted mb-4",children:(0,b.jsx)("img",{src:h.image,alt:h.name||`Service #${a}`,className:"w-full h-full object-cover",onError:a=>{a.currentTarget.style.display="none"}})}),(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:h?.brand||"Unknown Brand"}),(0,b.jsx)("h3",{className:"font-bold text-lg mb-1",children:h?.name||`Service #${a}`}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,i.formatEther)(o)," MNT per token"]})]}),(0,b.jsx)("div",{className:`text-xs px-2 py-1 ${t?"bg-accent/10 text-accent":"bg-muted text-muted-foreground"}`,children:t?"Active":"Inactive"})]}),h?.description&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:h.description}),(0,b.jsxs)("div",{className:"space-y-2 mb-4 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Active Tokens"}),(0,b.jsx)("span",{className:"font-medium",children:q-r})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Redeemed"}),(0,b.jsx)("span",{className:"font-medium",children:r})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Total Minted"}),(0,b.jsxs)("span",{className:"font-medium",children:[q," / ",p]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Total Revenue"}),(0,b.jsxs)("span",{className:"font-bold",children:[(0,i.formatEther)(s)," MNT"]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.Button,{variant:"outline",size:"sm",className:"flex-1 bg-transparent",children:"View Details"}),(0,b.jsx)(e.Button,{variant:"outline",size:"sm",className:"flex-1 bg-transparent",children:t?"Pause":"Resume"})]})]})}function n(){let{address:a,isConnected:n}=(0,h.useAccount)(),{useProviderInfo:o,useProviderStats:p,useNextTokenId:q,registerProvider:r,createService:s,isPending:t}=(0,g.useServiceCredit)(),u=o(a),v=p(a),w=q(),x=u.data?.[5]||!1,[y,z]=(0,j.useState)({name:"",brand:"",description:"",image:"",price:"",expiryDays:30,maxSupply:100,serviceType:0}),[A,B]=(0,j.useState)(!1),C=v.data?Number(v.data[0]):0,D=async()=>{try{await r(),k.toast.success("Registration successful!")}catch(a){k.toast.error(a.message||"Registration failed")}},E=async()=>{if(!y.name||!y.brand||!y.price||!y.image)return void k.toast.error("Please fill in all required fields");try{B(!0);let a=await (0,l.uploadMetadataToIPFS)({name:y.name,brand:y.brand,description:y.description||`${y.name} service credit`,image:y.image,category:"Service"});k.toast.success("Metadata uploaded to IPFS!"),B(!1),await s({price:y.price,expiryDays:y.expiryDays,maxSupply:y.maxSupply,serviceType:y.serviceType,tokenURI:a.ipfsUrl||""});let b=w.data?Number(w.data)-1:C;(0,l.saveServiceMetadata)(b,a),k.toast.success(`Service "${y.name}" created successfully!`),z({name:"",brand:"",description:"",image:"",price:"",expiryDays:30,maxSupply:100,serviceType:0})}catch(a){B(!1),k.toast.error(a.message||"Service creation failed")}};return n?x?(0,b.jsxs)("main",{className:"min-h-screen bg-muted/30",children:[(0,b.jsx)(c.Navigation,{}),(0,b.jsx)("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Business Dashboard"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Manage your service tokens and access instant liquidity"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,b.jsxs)(d.Card,{className:"p-6",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"Total Services"}),(0,b.jsx)("div",{className:"text-3xl font-bold",children:v.data?Number(v.data[0]):0}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"Created services"})]}),(0,b.jsxs)(d.Card,{className:"p-6",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"Value Locked"}),(0,b.jsx)("div",{className:"text-3xl font-bold",children:v.data?`${(0,i.formatEther)(v.data[1])} MNT`:"0 MNT"}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"In active credits"})]}),(0,b.jsxs)(d.Card,{className:"p-6",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"Verification"}),(0,b.jsx)("div",{className:"text-3xl font-bold",children:v.data?.[2]?"✓":"⏳"}),(0,b.jsx)("div",{className:"text-xs text-accent mt-1",children:v.data?.[2]?"Verified":"Pending"})]}),(0,b.jsxs)(d.Card,{className:"p-6",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"Next Token ID"}),(0,b.jsxs)("div",{className:"text-3xl font-bold",children:["#",w.data?Number(w.data):1]}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"For new service"})]})]}),(0,b.jsxs)(f.Tabs,{defaultValue:"services",className:"space-y-6",children:[(0,b.jsxs)(f.TabsList,{className:"bg-card border border-border",children:[(0,b.jsx)(f.TabsTrigger,{value:"services",children:"Service Management"}),(0,b.jsx)(f.TabsTrigger,{value:"mint",children:"Mint Service Tokens"}),(0,b.jsx)(f.TabsTrigger,{value:"redemptions",children:"Redemptions"}),(0,b.jsx)(f.TabsTrigger,{value:"analytics",children:"Analytics"})]}),(0,b.jsxs)(f.TabsContent,{value:"services",className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex justify-between items-center",children:(0,b.jsx)("h2",{className:"text-2xl font-bold",children:"Your Services"})}),0===C?(0,b.jsxs)(d.Card,{className:"p-8 text-center border-2 border-dashed",children:[(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:"No services created yet"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:'Go to "Mint Service Tokens" tab to create your first service'})]}):(0,b.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:Array.from({length:C},(a,c)=>(0,b.jsx)(m,{tokenId:c+1},c+1))})]}),(0,b.jsx)(f.TabsContent,{value:"mint",className:"space-y-6",children:(0,b.jsxs)(d.Card,{className:"p-8 border-2",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Create & Mint Service Tokens"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-6",children:"Create a new service and mint tokens for it. You can define the service details and initial token supply."}),(0,b.jsxs)("div",{className:"space-y-6 max-w-2xl",children:[(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Service Name *"}),(0,b.jsx)("input",{type:"text",placeholder:"e.g., Premium Haircut",value:y.name,onChange:a=>z({...y,name:a.target.value}),className:"w-full px-4 py-2 border border-input bg-background rounded-md"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Brand Name *"}),(0,b.jsx)("input",{type:"text",placeholder:"e.g., Elite Hair Studio",value:y.brand,onChange:a=>z({...y,brand:a.target.value}),className:"w-full px-4 py-2 border border-input bg-background rounded-md"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Description (optional)"}),(0,b.jsx)("textarea",{placeholder:"Describe your service...",value:y.description,onChange:a=>z({...y,description:a.target.value}),className:"w-full px-4 py-2 border border-input bg-background rounded-md min-h-[80px]"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Image URL *"}),(0,b.jsx)("input",{type:"url",placeholder:"https://example.com/image.jpg",value:y.image,onChange:a=>z({...y,image:a.target.value}),className:"w-full px-4 py-2 border border-input bg-background rounded-md"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Direct URL to an image representing your service"})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Price per Token (MNT) *"}),(0,b.jsx)("input",{type:"number",step:"0.01",min:"0",placeholder:"0.00",value:y.price,onChange:a=>z({...y,price:a.target.value}),className:"w-full px-4 py-2 border border-input bg-background rounded-md"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Max Supply *"}),(0,b.jsx)("input",{type:"number",min:"1",placeholder:"100",value:y.maxSupply,onChange:a=>z({...y,maxSupply:Number(a.target.value)}),className:"w-full px-4 py-2 border border-input bg-background rounded-md"})]})]}),y.name&&y.brand&&y.image&&(0,b.jsxs)(d.Card,{className:"p-6 bg-muted/50 border-2",children:[(0,b.jsx)("h3",{className:"font-bold mb-4",children:"Service Preview"}),(0,b.jsxs)("div",{className:"space-y-3",children:[y.image&&(0,b.jsx)("div",{className:"w-full h-48 rounded-md overflow-hidden bg-muted",children:(0,b.jsx)("img",{src:y.image,alt:y.name,className:"w-full h-full object-cover",onError:a=>{a.currentTarget.src="https://via.placeholder.com/400x300?text=Image+Not+Found"}})}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"Brand"}),(0,b.jsx)("p",{className:"font-medium",children:y.brand})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"Service"}),(0,b.jsx)("p",{className:"font-bold text-lg",children:y.name})]}),y.description&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"Description"}),(0,b.jsx)("p",{className:"text-sm",children:y.description})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"Price"}),(0,b.jsxs)("p",{className:"font-bold text-accent",children:[y.price," MNT"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"Max Supply"}),(0,b.jsx)("p",{className:"font-medium",children:y.maxSupply})]})]})]})]})]}),(0,b.jsx)(e.Button,{onClick:E,disabled:t||A||!y.name||!y.brand||!y.image||!y.price||y.maxSupply<1,className:"w-full bg-accent text-accent-foreground hover:bg-accent/90",size:"lg",children:A?"Uploading to IPFS...":t?"Creating Service...":"Create Service"}),(0,b.jsxs)("div",{className:"text-xs text-muted-foreground bg-background p-4 rounded border",children:[(0,b.jsx)("p",{className:"font-medium mb-2",children:"ℹ️ What happens when you create a service:"}),(0,b.jsxs)("ul",{className:"space-y-1 ml-4 list-disc",children:[(0,b.jsx)("li",{children:"A new service token type will be created on the blockchain"}),(0,b.jsx)("li",{children:"No tokens are minted yet - just the service definition"}),(0,b.jsx)("li",{children:"Customers can then purchase tokens from the marketplace"}),(0,b.jsx)("li",{children:"You'll receive payment when customers buy tokens"})]})]})]})]})}),(0,b.jsxs)(f.TabsContent,{value:"redemptions",className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:"Recent Redemptions"}),(0,b.jsxs)("select",{className:"px-4 py-2 border border-input bg-background text-sm",children:[(0,b.jsx)("option",{children:"Last 7 days"}),(0,b.jsx)("option",{children:"Last 30 days"}),(0,b.jsx)("option",{children:"Last 90 days"})]})]}),(0,b.jsx)(d.Card,{className:"border-2",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"border-b border-border",children:(0,b.jsxs)("tr",{className:"text-left",children:[(0,b.jsx)("th",{className:"p-4 text-sm font-medium",children:"Date"}),(0,b.jsx)("th",{className:"p-4 text-sm font-medium",children:"Service"}),(0,b.jsx)("th",{className:"p-4 text-sm font-medium",children:"Token ID"}),(0,b.jsx)("th",{className:"p-4 text-sm font-medium",children:"Customer"}),(0,b.jsx)("th",{className:"p-4 text-sm font-medium",children:"Value"}),(0,b.jsx)("th",{className:"p-4 text-sm font-medium",children:"Status"})]})}),(0,b.jsx)("tbody",{children:[{date:"Dec 20, 2025",service:"Premium Haircut",token:"#4521",customer:"0x742d...a3f2",value:"$50"},{date:"Dec 20, 2025",service:"Express Cut",token:"#4520",customer:"0x8f21...b8c4",value:"$30"},{date:"Dec 19, 2025",service:"Hair Coloring",token:"#4519",customer:"0x3a1c...d5e7",value:"$120"},{date:"Dec 19, 2025",service:"Premium Haircut",token:"#4518",customer:"0x6d42...f9a1",value:"$50"},{date:"Dec 18, 2025",service:"Express Cut",token:"#4517",customer:"0x9e51...c2b8",value:"$30"}].map((a,c)=>(0,b.jsxs)("tr",{className:"border-b border-border last:border-0 hover:bg-muted/50",children:[(0,b.jsx)("td",{className:"p-4 text-sm",children:a.date}),(0,b.jsx)("td",{className:"p-4 text-sm font-medium",children:a.service}),(0,b.jsx)("td",{className:"p-4 text-sm text-muted-foreground font-mono",children:a.token}),(0,b.jsx)("td",{className:"p-4 text-sm text-muted-foreground font-mono",children:a.customer}),(0,b.jsx)("td",{className:"p-4 text-sm font-bold",children:a.value}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("span",{className:"text-xs px-2 py-1 bg-accent/10 text-accent",children:"Redeemed"})})]},c))})]})})}),(0,b.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,b.jsx)("div",{className:"text-muted-foreground",children:"Showing 5 of 186 redemptions"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.Button,{variant:"outline",size:"sm",children:"Previous"}),(0,b.jsx)(e.Button,{variant:"outline",size:"sm",children:"Next"})]})]})]}),(0,b.jsxs)(f.TabsContent,{value:"analytics",className:"space-y-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold",children:"Performance Analytics"}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)(d.Card,{className:"p-6 border-2",children:[(0,b.jsx)("h3",{className:"font-bold mb-4",children:"Revenue Breakdown"}),(0,b.jsx)("div",{className:"space-y-4",children:[{service:"Premium Haircut",revenue:6375,percent:42},{service:"Hair Coloring",revenue:5100,percent:34},{service:"Express Cut",revenue:2400,percent:16},{service:"Styling Session",revenue:1125,percent:8}].map((a,c)=>(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between mb-2 text-sm",children:[(0,b.jsx)("span",{children:a.service}),(0,b.jsxs)("span",{className:"font-bold",children:["$",a.revenue.toLocaleString()]})]}),(0,b.jsx)("div",{className:"w-full h-2 bg-muted overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-accent",style:{width:`${a.percent}%`}})})]},c))})]}),(0,b.jsxs)(d.Card,{className:"p-6 border-2",children:[(0,b.jsx)("h3",{className:"font-bold mb-4",children:"Redemption Trends"}),(0,b.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between py-2 border-b border-border",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Average Redemption Time"}),(0,b.jsx)("span",{className:"font-medium",children:"42 days"})]}),(0,b.jsxs)("div",{className:"flex justify-between py-2 border-b border-border",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Peak Redemption Day"}),(0,b.jsx)("span",{className:"font-medium",children:"Saturday"})]}),(0,b.jsxs)("div",{className:"flex justify-between py-2 border-b border-border",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Repeat Customer Rate"}),(0,b.jsx)("span",{className:"font-medium",children:"68%"})]}),(0,b.jsxs)("div",{className:"flex justify-between py-2",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Expired Token Rate"}),(0,b.jsx)("span",{className:"font-medium",children:"8%"})]})]})]}),(0,b.jsxs)(d.Card,{className:"p-6 border-2 md:col-span-2",children:[(0,b.jsx)("h3",{className:"font-bold mb-4",children:"Monthly Liquidity Flow"}),(0,b.jsx)("div",{className:"h-48 flex items-end justify-between gap-2",children:[45,62,58,78,85,72,68,82,95,88,92,100].map((a,c)=>(0,b.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-2",children:[(0,b.jsx)("div",{className:"w-full bg-accent/20 hover:bg-accent/30 transition-colors",style:{height:`${a}%`}}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:["J","F","M","A","M","J","J","A","S","O","N","D"][c]})]},c))})]})]})]})]})]})})]}):(0,b.jsxs)("main",{className:"min-h-screen bg-muted/30",children:[(0,b.jsx)(c.Navigation,{}),(0,b.jsx)("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,b.jsxs)(d.Card,{className:"p-8 text-center",children:[(0,b.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Register Your Business"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-6",children:"You need to register as a service provider to start tokenizing your services"}),(0,b.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,b.jsx)(e.Button,{onClick:D,disabled:t,className:"bg-accent text-accent-foreground hover:bg-accent/90",children:t?"Registering...":"Register as Provider"}),(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>window.location.href="/business/register",children:"Full Registration"})]})]})})})]}):(0,b.jsxs)("main",{className:"min-h-screen bg-muted/30",children:[(0,b.jsx)(c.Navigation,{}),(0,b.jsx)("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,b.jsxs)(d.Card,{className:"p-8 text-center",children:[(0,b.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Connect Your Wallet"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Please connect your wallet to access the business dashboard"})]})})})]})}a.s(["default",()=>n],41530)}];

//# sourceMappingURL=frontend_app_business_page_tsx_9233752d._.js.map