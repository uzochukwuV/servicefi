(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,12644,e=>{"use strict";var t=e.i(1620),r=e.i(25835);function a(e,a){if(!(0,r.isAddress)(e,{strict:!1}))throw new t.InvalidAddressError({address:e});if(!(0,r.isAddress)(a,{strict:!1}))throw new t.InvalidAddressError({address:a});return e.toLowerCase()===a.toLowerCase()}e.s(["isAddressEqual",()=>a])},8733,e=>{"use strict";var t=e.i(38575),r=e.i(54459),a=e.i(43091),s=e.i(38155),o=e.i(34974),n=e.i(65887),i=e.i(84120),c=e.i(31081),u=e.i(60179),d=e.i(2868);let l="/docs/contract/encodeErrorResult";function f(e){let{abi:t,errorName:r,args:s}=e,n=t[0];if(r){let e=(0,d.getAbiItem)({abi:t,args:s,name:r});if(!e)throw new a.AbiErrorNotFoundError(r,{docsPath:l});n=e}if("error"!==n.type)throw new a.AbiErrorNotFoundError(void 0,{docsPath:l});let f=(0,i.formatAbiItem)(n),h=(0,o.toFunctionSelector)(f),p="0x";if(s&&s.length>0){if(!n.inputs)throw new a.AbiErrorInputsNotFoundError(n.name,{docsPath:l});p=(0,u.encodeAbiParameters)(n.inputs,s)}return(0,c.concatHex)([h,p])}let h="/docs/contract/encodeFunctionResult",p="x-batch-gateway:true";async function w(e){let{data:c,ccipRequest:l}=e,{args:[m]}=function(e){let{abi:t,data:r}=e,c=(0,s.slice)(r,0,4),u=t.find(e=>"function"===e.type&&c===(0,o.toFunctionSelector)((0,i.formatAbiItem)(e)));if(!u)throw new a.AbiFunctionSignatureNotFoundError(c,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:u.name,args:"inputs"in u&&u.inputs&&u.inputs.length>0?(0,n.decodeAbiParameters)(u.inputs,(0,s.slice)(r,4)):void 0}}({abi:t.batchGatewayAbi,data:c}),y=[],b=[];return await Promise.all(m.map(async(e,a)=>{try{b[a]=e.urls.includes(p)?await w({data:e.data,ccipRequest:l}):await l(e),y[a]=!1}catch(e){var s;y[a]=!0,b[a]="HttpRequestError"===(s=e).name&&s.status?f({abi:t.batchGatewayAbi,errorName:"HttpError",args:[s.status,s.shortMessage]}):f({abi:[r.solidityError],errorName:"Error",args:["shortMessage"in s?s.shortMessage:s.message]})}})),function(e){let{abi:t,functionName:r,result:s}=e,o=t[0];if(r){let e=(0,d.getAbiItem)({abi:t,name:r});if(!e)throw new a.AbiFunctionNotFoundError(r,{docsPath:h});o=e}if("function"!==o.type)throw new a.AbiFunctionNotFoundError(void 0,{docsPath:h});if(!o.outputs)throw new a.AbiFunctionOutputsNotFoundError(o.name,{docsPath:h});let n=(()=>{if(0===o.outputs.length)return[];if(1===o.outputs.length)return[s];if(Array.isArray(s))return s;throw new a.InvalidArrayError(s)})();return(0,u.encodeAbiParameters)(o.outputs,n)}({abi:t.batchGatewayAbi,functionName:"query",result:[y,b]})}e.s(["localBatchGatewayRequest",()=>w,"localBatchGatewayUrl",0,p],8733)},31279,e=>{"use strict";var t=e.i(36895),r=e.i(20637),a=e.i(29017),s=e.i(12926);class o extends a.BaseError{constructor({callbackSelector:e,cause:t,data:r,extraData:a,sender:o,urls:n}){super(t.shortMessage||"An error occurred while fetching for an offchain result.",{cause:t,metaMessages:[...t.metaMessages||[],t.metaMessages?.length?"":[],"Offchain Gateway Call:",n&&["  Gateway URL(s):",...n.map(e=>`    ${(0,s.getUrl)(e)}`)],`  Sender: ${o}`,`  Data: ${r}`,`  Callback selector: ${e}`,`  Extra data: ${a}`].flat(),name:"OffchainLookupError"})}}class n extends a.BaseError{constructor({result:e,url:t}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${(0,s.getUrl)(t)}`,`Response: ${(0,r.stringify)(e)}`],name:"OffchainLookupResponseMalformedError"})}}class i extends a.BaseError{constructor({sender:e,to:t}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${t}`,`OffchainLookup sender address: ${e}`],name:"OffchainLookupSenderMismatchError"})}}var c=e.i(71436),u=e.i(29630),d=e.i(60179),l=e.i(12644),f=e.i(31081),h=e.i(46824),p=e.i(8733);let w={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function m(e,{blockNumber:r,blockTag:a,data:s,to:n}){let{args:c}=(0,u.decodeErrorResult)({data:s,abi:[w]}),[h,m,b,g,A]=c,{ccipRead:E}=e,R=E&&"function"==typeof E?.request?E.request:y;try{if(!(0,l.isAddressEqual)(n,h))throw new i({sender:h,to:n});let s=m.includes(p.localBatchGatewayUrl)?await (0,p.localBatchGatewayRequest)({data:b,ccipRequest:R}):await R({data:b,sender:h,urls:m}),{data:o}=await (0,t.call)(e,{blockNumber:r,blockTag:a,data:(0,f.concat)([g,(0,d.encodeAbiParameters)([{type:"bytes"},{type:"bytes"}],[s,A])]),to:n});return o}catch(e){throw new o({callbackSelector:g,cause:e,data:s,extraData:A,sender:h,urls:m})}}async function y({data:e,sender:t,urls:a}){let s=Error("An unknown error occurred.");for(let o=0;o<a.length;o++){let i=a[o],u=i.includes("{data}")?"GET":"POST",d="POST"===u?{data:e,sender:t}:void 0,l="POST"===u?{"Content-Type":"application/json"}:{};try{let a,o=await fetch(i.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(d),headers:l,method:u});if(a=o.headers.get("Content-Type")?.startsWith("application/json")?(await o.json()).data:await o.text(),!o.ok){s=new c.HttpRequestError({body:d,details:a?.error?(0,r.stringify)(a.error):o.statusText,headers:o.headers,status:o.status,url:i});continue}if(!(0,h.isHex)(a)){s=new n({result:a,url:i});continue}return a}catch(e){s=new c.HttpRequestError({body:d,details:e.message,url:i})}}throw s}e.s(["ccipRequest",()=>y,"offchainLookup",()=>m,"offchainLookupAbiItem",0,w,"offchainLookupSignature",0,"0x556f1830"],31279)}]);