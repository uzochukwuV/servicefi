(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86051,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},85755,e=>{"use strict";let t="servicefi_metadata",s=async e=>{try{let t=await fetch("/api/upload-metadata",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to upload metadata to IPFS");let s=await t.json();return{...e,ipfsCid:s.cid,ipfsUrl:s.ipfsUrl}}catch(e){throw console.error("Error uploading to IPFS:",e),e}};e.s(["getAllServiceMetadata",0,()=>{try{let e=localStorage.getItem(t);return e?JSON.parse(e):{}}catch(e){return console.error("Error getting all metadata:",e),{}}},"getServiceMetadata",0,e=>{try{let s=localStorage.getItem(t);if(!s)return null;return JSON.parse(s)[e]||null}catch(e){return console.error("Error getting metadata:",e),null}},"saveServiceMetadata",0,(e,s)=>{try{let r=localStorage.getItem(t),a=r?JSON.parse(r):{};a[e]={...s,tokenId:e},localStorage.setItem(t,JSON.stringify(a))}catch(e){console.error("Error saving metadata:",e)}},"uploadMetadataToIPFS",0,s])},9478,e=>{"use strict";let t=BigInt(0),s=BigInt(1);function r(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function a(e){if(!r(e))throw Error("Uint8Array expected")}function n(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function i(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function c(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?t:BigInt("0x"+e)}let d="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,l=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function o(e){if(a(e),d)return e.toHex();let t="";for(let s=0;s<e.length;s++)t+=l[e[s]];return t}function x(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function m(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(d)return Uint8Array.fromHex(e);let t=e.length,s=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(s);for(let t=0,a=0;t<s;t++,a+=2){let s=x(e.charCodeAt(a)),n=x(e.charCodeAt(a+1));if(void 0===s||void 0===n)throw Error('hex string expected, got non-hex character "'+(e[a]+e[a+1])+'" at index '+a);r[t]=16*s+n}return r}function u(e){return c(o(e))}function f(e){return a(e),c(o(Uint8Array.from(e).reverse()))}function b(e,t){return m(e.toString(16).padStart(2*t,"0"))}function h(e,t){return b(e,t).reverse()}function p(e,t,s){let a;if("string"==typeof t)try{a=m(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(r(t))a=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let n=a.length;if("number"==typeof s&&n!==s)throw Error(e+" of length "+s+" expected, got "+n);return a}function g(...e){let t=0;for(let s=0;s<e.length;s++){let r=e[s];a(r),t+=r.length}let s=new Uint8Array(t);for(let t=0,r=0;t<e.length;t++){let a=e[t];s.set(a,r),r+=a.length}return s}function v(e,t){if(e.length!==t.length)return!1;let s=0;for(let r=0;r<e.length;r++)s|=e[r]^t[r];return 0===s}function j(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}let N=e=>"bigint"==typeof e&&t<=e;function y(e,t,s){return N(e)&&N(t)&&N(s)&&t<=e&&e<s}function w(e,t,s,r){if(!y(t,s,r))throw Error("expected valid "+e+": "+s+" <= n < "+r+", got "+t)}function S(e){let r;for(r=0;e>t;e>>=s,r+=1);return r}let C=e=>new Uint8Array(e);function T(e,t,s){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof s)throw Error("hmacFn must be a function");let r=C(e),a=C(e),n=0,i=()=>{r.fill(1),a.fill(0),n=0},c=(...e)=>s(a,r,...e),d=(e=C(0))=>{let t;if(a=c((t=[0],Uint8Array.from(t)),e),r=c(),0!==e.length){let t;a=c((t=[1],Uint8Array.from(t)),e),r=c()}},l=()=>{if(n++>=1e3)throw Error("drbg: tried 1000 values");let e=0,s=[];for(;e<t;){let t=(r=c()).slice();s.push(t),e+=r.length}return g(...s)};return(e,t)=>{let s;for(i(),d(e);!(s=t(l()));)d();return i(),s}}let k={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||r(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function A(e,t,s={}){let r=(t,s,r)=>{let a=k[s];if("function"!=typeof a)throw Error("invalid validator function");let n=e[t];if((!r||void 0!==n)&&!a(n,e))throw Error("param "+String(t)+" is invalid. Expected "+s+", got "+n)};for(let[e,s]of Object.entries(t))r(e,s,!1);for(let[e,t]of Object.entries(s))r(e,t,!0);return e}function E(e){let t=new WeakMap;return(s,...r)=>{let a=t.get(s);if(void 0!==a)return a;let n=e(s,...r);return t.set(s,n),n}}e.s(["aInRange",()=>w,"abool",()=>n,"abytes",()=>a,"bitLen",()=>S,"bitMask",0,e=>(s<<BigInt(e))-s,"bytesToHex",()=>o,"bytesToNumberBE",()=>u,"bytesToNumberLE",()=>f,"concatBytes",()=>g,"createHmacDrbg",()=>T,"ensureBytes",()=>p,"equalBytes",()=>v,"hexToBytes",()=>m,"inRange",()=>y,"isBytes",()=>r,"memoized",()=>E,"numberToBytesBE",()=>b,"numberToBytesLE",()=>h,"numberToHexUnpadded",()=>i,"utf8ToBytes",()=>j,"validateObject",()=>A])},26423,80277,e=>{"use strict";var t=e.i(41459);function s(e,t,s){return e&t^~e&s}function r(e,t,s){return e&t^e&s^t&s}class a extends t.Hash{constructor(e,s,r,a){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=s,this.padOffset=r,this.isLE=a,this.buffer=new Uint8Array(e),this.view=(0,t.createView)(this.buffer)}update(e){(0,t.aexists)(this),e=(0,t.toBytes)(e),(0,t.abytes)(e);let{view:s,buffer:r,blockLen:a}=this,n=e.length;for(let i=0;i<n;){let c=Math.min(a-this.pos,n-i);if(c===a){let s=(0,t.createView)(e);for(;a<=n-i;i+=a)this.process(s,i);continue}r.set(e.subarray(i,i+c),this.pos),this.pos+=c,i+=c,this.pos===a&&(this.process(s,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,t.aexists)(this),(0,t.aoutput)(e,this),this.finished=!0;let{buffer:s,view:r,blockLen:a,isLE:n}=this,{pos:i}=this;s[i++]=128,(0,t.clean)(this.buffer.subarray(i)),this.padOffset>a-i&&(this.process(r,0),i=0);for(let e=i;e<a;e++)s[e]=0;!function(e,t,s,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,s,r);let a=BigInt(32),n=BigInt(0xffffffff),i=Number(s>>a&n),c=Number(s&n),d=4*!!r,l=4*!r;e.setUint32(t+d,i,r),e.setUint32(t+l,c,r)}(r,a-8,BigInt(8*this.length),n),this.process(r,0);let c=(0,t.createView)(e),d=this.outputLen;if(d%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=d/4,o=this.get();if(l>o.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)c.setUint32(4*e,o[e],n)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let s=e.slice(0,t);return this.destroy(),s}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:s,length:r,finished:a,destroyed:n,pos:i}=this;return e.destroyed=n,e.finished=a,e.length=r,e.pos=i,r%t&&e.buffer.set(s),e}clone(){return this._cloneInto()}}let n=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),i=Uint32Array.from([0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]),c=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),d=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]);e.s(["Chi",()=>s,"HashMD",()=>a,"Maj",()=>r,"SHA224_IV",0,i,"SHA256_IV",0,n,"SHA384_IV",0,c,"SHA512_IV",0,d],80277);var l=e.i(69316);let o=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),x=new Uint32Array(64);class m extends a{constructor(e=32){super(64,e,8,!1),this.A=0|n[0],this.B=0|n[1],this.C=0|n[2],this.D=0|n[3],this.E=0|n[4],this.F=0|n[5],this.G=0|n[6],this.H=0|n[7]}get(){let{A:e,B:t,C:s,D:r,E:a,F:n,G:i,H:c}=this;return[e,t,s,r,a,n,i,c]}set(e,t,s,r,a,n,i,c){this.A=0|e,this.B=0|t,this.C=0|s,this.D=0|r,this.E=0|a,this.F=0|n,this.G=0|i,this.H=0|c}process(e,s){for(let t=0;t<16;t++,s+=4)x[t]=e.getUint32(s,!1);for(let e=16;e<64;e++){let s=x[e-15],r=x[e-2],a=(0,t.rotr)(s,7)^(0,t.rotr)(s,18)^s>>>3,n=(0,t.rotr)(r,17)^(0,t.rotr)(r,19)^r>>>10;x[e]=n+x[e-7]+a+x[e-16]|0}let{A:a,B:n,C:i,D:c,E:d,F:l,G:m,H:u}=this;for(let e=0;e<64;e++){var f;let s=u+((0,t.rotr)(d,6)^(0,t.rotr)(d,11)^(0,t.rotr)(d,25))+((f=d)&l^~f&m)+o[e]+x[e]|0,b=((0,t.rotr)(a,2)^(0,t.rotr)(a,13)^(0,t.rotr)(a,22))+r(a,n,i)|0;u=m,m=l,l=d,d=c+s|0,c=i,i=n,n=a,a=s+b|0}a=a+this.A|0,n=n+this.B|0,i=i+this.C|0,c=c+this.D|0,d=d+this.E|0,l=l+this.F|0,m=m+this.G|0,u=u+this.H|0,this.set(a,n,i,c,d,l,m,u)}roundClean(){(0,t.clean)(x)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,t.clean)(this.buffer)}}class u extends m{constructor(){super(28),this.A=0|i[0],this.B=0|i[1],this.C=0|i[2],this.D=0|i[3],this.E=0|i[4],this.F=0|i[5],this.G=0|i[6],this.H=0|i[7]}}let f=l.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),b=f[0],h=f[1],p=new Uint32Array(80),g=new Uint32Array(80);let v=(0,t.createHasher)(()=>new m),j=(0,t.createHasher)(()=>new u);e.s(["SHA224",()=>u,"SHA256",()=>m,"sha224",0,j,"sha256",0,v],26423)},68546,e=>{"use strict";var t=e.i(48277),s=e.i(30668),r=e.i(26145),a=e.i(9166),n=e.i(97366),i=e.i(17929),c=e.i(11432),d=e.i(11126),l=e.i(7950),o=e.i(74327),x="Tabs",[m,u]=(0,a.createContextScope)(x,[n.createRovingFocusGroupScope]),f=(0,n.createRovingFocusGroupScope)(),[b,h]=m(x),p=s.forwardRef((e,s)=>{let{__scopeTabs:r,value:a,onValueChange:n,defaultValue:i,orientation:x="horizontal",dir:m,activationMode:u="automatic",...f}=e,h=(0,d.useDirection)(m),[p,g]=(0,l.useControllableState)({prop:a,onChange:n,defaultProp:i});return(0,t.jsx)(b,{scope:r,baseId:(0,o.useId)(),value:p,onValueChange:g,orientation:x,dir:h,activationMode:u,children:(0,t.jsx)(c.Primitive.div,{dir:h,"data-orientation":x,...f,ref:s})})});p.displayName=x;var g="TabsList",v=s.forwardRef((e,s)=>{let{__scopeTabs:r,loop:a=!0,...i}=e,d=h(g,r),l=f(r);return(0,t.jsx)(n.Root,{asChild:!0,...l,orientation:d.orientation,dir:d.dir,loop:a,children:(0,t.jsx)(c.Primitive.div,{role:"tablist","aria-orientation":d.orientation,...i,ref:s})})});v.displayName=g;var j="TabsTrigger",N=s.forwardRef((e,s)=>{let{__scopeTabs:a,value:i,disabled:d=!1,...l}=e,o=h(j,a),x=f(a),m=S(o.baseId,i),u=C(o.baseId,i),b=i===o.value;return(0,t.jsx)(n.Item,{asChild:!0,...x,focusable:!d,active:b,children:(0,t.jsx)(c.Primitive.button,{type:"button",role:"tab","aria-selected":b,"aria-controls":u,"data-state":b?"active":"inactive","data-disabled":d?"":void 0,disabled:d,id:m,...l,ref:s,onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,e=>{d||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(i)}),onKeyDown:(0,r.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(i)}),onFocus:(0,r.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==o.activationMode;b||d||!e||o.onValueChange(i)})})})});N.displayName=j;var y="TabsContent",w=s.forwardRef((e,r)=>{let{__scopeTabs:a,value:n,forceMount:d,children:l,...o}=e,x=h(y,a),m=S(x.baseId,n),u=C(x.baseId,n),f=n===x.value,b=s.useRef(f);return s.useEffect(()=>{let e=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(i.Presence,{present:d||f,children:({present:s})=>(0,t.jsx)(c.Primitive.div,{"data-state":f?"active":"inactive","data-orientation":x.orientation,role:"tabpanel","aria-labelledby":m,hidden:!s,id:u,tabIndex:0,...o,ref:r,style:{...e.style,animationDuration:b.current?"0s":void 0},children:s&&l})})});function S(e,t){return`${e}-trigger-${t}`}function C(e,t){return`${e}-content-${t}`}w.displayName=y;var T=e.i(99738);function k({className:e,...s}){return(0,t.jsx)(p,{"data-slot":"tabs",className:(0,T.cn)("flex flex-col gap-2",e),...s})}function A({className:e,...s}){return(0,t.jsx)(v,{"data-slot":"tabs-list",className:(0,T.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...s})}function E({className:e,...s}){return(0,t.jsx)(N,{"data-slot":"tabs-trigger",className:(0,T.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s})}function I({className:e,...s}){return(0,t.jsx)(w,{"data-slot":"tabs-content",className:(0,T.cn)("flex-1 outline-none",e),...s})}e.s(["Tabs",()=>k,"TabsContent",()=>I,"TabsList",()=>A,"TabsTrigger",()=>E],68546)},88075,e=>{"use strict";var t=e.i(48277),s=e.i(61038),r=e.i(9818),a=e.i(75918),n=e.i(68546),i=e.i(62413),c=e.i(47793),d=e.i(58247),l=e.i(30668),o=e.i(54976),x=e.i(85755);function m({tokenId:e}){let{useServiceInfo:s,useServiceStats:n}=(0,i.useServiceCredit)(),[c,o]=(0,l.useState)(null),m=s(BigInt(e)),u=n(BigInt(e));if((0,l.useEffect)(()=>{o((0,x.getServiceMetadata)(e))},[e]),!m.data||!u.data)return(0,t.jsxs)(r.Card,{className:"p-6 border-2 animate-pulse",children:[(0,t.jsx)("div",{className:"h-4 bg-muted rounded w-1/2 mb-2"}),(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-1/3"})]});let f=m.data[0],b=Number(m.data[2]),h=Number(m.data[3]);m.data[4],u.data[0],u.data[1];let p=Number(u.data[2]),g=u.data[4],v=u.data[5];return(0,t.jsxs)(r.Card,{className:"p-6 border-2 hover:border-accent transition-colors",children:[c?.image&&(0,t.jsx)("div",{className:"w-full h-40 rounded-md overflow-hidden bg-muted mb-4",children:(0,t.jsx)("img",{src:c.image,alt:c.name||`Service #${e}`,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.style.display="none"}})}),(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:c?.brand||"Unknown Brand"}),(0,t.jsx)("h3",{className:"font-bold text-lg mb-1",children:c?.name||`Service #${e}`}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,d.formatEther)(f)," MNT per token"]})]}),(0,t.jsx)("div",{className:`text-xs px-2 py-1 ${v?"bg-accent/10 text-accent":"bg-muted text-muted-foreground"}`,children:v?"Active":"Inactive"})]}),c?.description&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:c.description}),(0,t.jsxs)("div",{className:"space-y-2 mb-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Active Tokens"}),(0,t.jsx)("span",{className:"font-medium",children:h-p})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Redeemed"}),(0,t.jsx)("span",{className:"font-medium",children:p})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Total Minted"}),(0,t.jsxs)("span",{className:"font-medium",children:[h," / ",b]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Total Revenue"}),(0,t.jsxs)("span",{className:"font-bold",children:[(0,d.formatEther)(g)," MNT"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(a.Button,{variant:"outline",size:"sm",className:"flex-1 bg-transparent",children:"View Details"}),(0,t.jsx)(a.Button,{variant:"outline",size:"sm",className:"flex-1 bg-transparent",children:v?"Pause":"Resume"})]})]})}function u(){let{address:e,isConnected:u}=(0,c.useAccount)(),{useProviderInfo:f,useProviderStats:b,useNextTokenId:h,registerProvider:p,createService:g,isPending:v}=(0,i.useServiceCredit)(),j=f(e),N=b(e),y=h(),w=j.data?.[5]||!1,[S,C]=(0,l.useState)({name:"",brand:"",description:"",image:"",price:"",expiryDays:30,maxSupply:100,serviceType:0}),[T,k]=(0,l.useState)(!1),A=N.data?Number(N.data[0]):0,E=async()=>{try{await p(),o.toast.success("Registration successful!")}catch(e){o.toast.error(e.message||"Registration failed")}},I=async()=>{if(!S.name||!S.brand||!S.price||!S.image)return void o.toast.error("Please fill in all required fields");try{k(!0);let e=await (0,x.uploadMetadataToIPFS)({name:S.name,brand:S.brand,description:S.description||`${S.name} service credit`,image:S.image,category:"Service"});o.toast.success("Metadata uploaded to IPFS!"),k(!1),await g({price:S.price,expiryDays:S.expiryDays,maxSupply:S.maxSupply,serviceType:S.serviceType,tokenURI:e.ipfsUrl||""});let t=y.data?Number(y.data)-1:A;(0,x.saveServiceMetadata)(t,e),o.toast.success(`Service "${S.name}" created successfully!`),C({name:"",brand:"",description:"",image:"",price:"",expiryDays:30,maxSupply:100,serviceType:0})}catch(e){k(!1),o.toast.error(e.message||"Service creation failed")}};return u?w?(0,t.jsxs)("main",{className:"min-h-screen bg-muted/30",children:[(0,t.jsx)(s.Navigation,{}),(0,t.jsx)("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Business Dashboard"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage your service tokens and access instant liquidity"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,t.jsxs)(r.Card,{className:"p-6",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"Total Services"}),(0,t.jsx)("div",{className:"text-3xl font-bold",children:N.data?Number(N.data[0]):0}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"Created services"})]}),(0,t.jsxs)(r.Card,{className:"p-6",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"Value Locked"}),(0,t.jsx)("div",{className:"text-3xl font-bold",children:N.data?`${(0,d.formatEther)(N.data[1])} MNT`:"0 MNT"}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"In active credits"})]}),(0,t.jsxs)(r.Card,{className:"p-6",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"Verification"}),(0,t.jsx)("div",{className:"text-3xl font-bold",children:N.data?.[2]?"✓":"⏳"}),(0,t.jsx)("div",{className:"text-xs text-accent mt-1",children:N.data?.[2]?"Verified":"Pending"})]}),(0,t.jsxs)(r.Card,{className:"p-6",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"Next Token ID"}),(0,t.jsxs)("div",{className:"text-3xl font-bold",children:["#",y.data?Number(y.data):1]}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:"For new service"})]})]}),(0,t.jsxs)(n.Tabs,{defaultValue:"services",className:"space-y-6",children:[(0,t.jsxs)(n.TabsList,{className:"bg-card border border-border",children:[(0,t.jsx)(n.TabsTrigger,{value:"services",children:"Service Management"}),(0,t.jsx)(n.TabsTrigger,{value:"mint",children:"Mint Service Tokens"}),(0,t.jsx)(n.TabsTrigger,{value:"redemptions",children:"Redemptions"}),(0,t.jsx)(n.TabsTrigger,{value:"analytics",children:"Analytics"})]}),(0,t.jsxs)(n.TabsContent,{value:"services",className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex justify-between items-center",children:(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Your Services"})}),0===A?(0,t.jsxs)(r.Card,{className:"p-8 text-center border-2 border-dashed",children:[(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"No services created yet"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:'Go to "Mint Service Tokens" tab to create your first service'})]}):(0,t.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:Array.from({length:A},(e,s)=>(0,t.jsx)(m,{tokenId:s+1},s+1))})]}),(0,t.jsx)(n.TabsContent,{value:"mint",className:"space-y-6",children:(0,t.jsxs)(r.Card,{className:"p-8 border-2",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Create & Mint Service Tokens"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-6",children:"Create a new service and mint tokens for it. You can define the service details and initial token supply."}),(0,t.jsxs)("div",{className:"space-y-6 max-w-2xl",children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Service Name *"}),(0,t.jsx)("input",{type:"text",placeholder:"e.g., Premium Haircut",value:S.name,onChange:e=>C({...S,name:e.target.value}),className:"w-full px-4 py-2 border border-input bg-background rounded-md"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Brand Name *"}),(0,t.jsx)("input",{type:"text",placeholder:"e.g., Elite Hair Studio",value:S.brand,onChange:e=>C({...S,brand:e.target.value}),className:"w-full px-4 py-2 border border-input bg-background rounded-md"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Description (optional)"}),(0,t.jsx)("textarea",{placeholder:"Describe your service...",value:S.description,onChange:e=>C({...S,description:e.target.value}),className:"w-full px-4 py-2 border border-input bg-background rounded-md min-h-[80px]"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Image URL *"}),(0,t.jsx)("input",{type:"url",placeholder:"https://example.com/image.jpg",value:S.image,onChange:e=>C({...S,image:e.target.value}),className:"w-full px-4 py-2 border border-input bg-background rounded-md"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Direct URL to an image representing your service"})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Price per Token (MNT) *"}),(0,t.jsx)("input",{type:"number",step:"0.01",min:"0",placeholder:"0.00",value:S.price,onChange:e=>C({...S,price:e.target.value}),className:"w-full px-4 py-2 border border-input bg-background rounded-md"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Max Supply *"}),(0,t.jsx)("input",{type:"number",min:"1",placeholder:"100",value:S.maxSupply,onChange:e=>C({...S,maxSupply:Number(e.target.value)}),className:"w-full px-4 py-2 border border-input bg-background rounded-md"})]})]}),S.name&&S.brand&&S.image&&(0,t.jsxs)(r.Card,{className:"p-6 bg-muted/50 border-2",children:[(0,t.jsx)("h3",{className:"font-bold mb-4",children:"Service Preview"}),(0,t.jsxs)("div",{className:"space-y-3",children:[S.image&&(0,t.jsx)("div",{className:"w-full h-48 rounded-md overflow-hidden bg-muted",children:(0,t.jsx)("img",{src:S.image,alt:S.name,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.src="https://via.placeholder.com/400x300?text=Image+Not+Found"}})}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground text-xs",children:"Brand"}),(0,t.jsx)("p",{className:"font-medium",children:S.brand})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground text-xs",children:"Service"}),(0,t.jsx)("p",{className:"font-bold text-lg",children:S.name})]}),S.description&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground text-xs",children:"Description"}),(0,t.jsx)("p",{className:"text-sm",children:S.description})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground text-xs",children:"Price"}),(0,t.jsxs)("p",{className:"font-bold text-accent",children:[S.price," MNT"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground text-xs",children:"Max Supply"}),(0,t.jsx)("p",{className:"font-medium",children:S.maxSupply})]})]})]})]})]}),(0,t.jsx)(a.Button,{onClick:I,disabled:v||T||!S.name||!S.brand||!S.image||!S.price||S.maxSupply<1,className:"w-full bg-accent text-accent-foreground hover:bg-accent/90",size:"lg",children:T?"Uploading to IPFS...":v?"Creating Service...":"Create Service"}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground bg-background p-4 rounded border",children:[(0,t.jsx)("p",{className:"font-medium mb-2",children:"ℹ️ What happens when you create a service:"}),(0,t.jsxs)("ul",{className:"space-y-1 ml-4 list-disc",children:[(0,t.jsx)("li",{children:"A new service token type will be created on the blockchain"}),(0,t.jsx)("li",{children:"No tokens are minted yet - just the service definition"}),(0,t.jsx)("li",{children:"Customers can then purchase tokens from the marketplace"}),(0,t.jsx)("li",{children:"You'll receive payment when customers buy tokens"})]})]})]})]})}),(0,t.jsxs)(n.TabsContent,{value:"redemptions",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Recent Redemptions"}),(0,t.jsxs)("select",{className:"px-4 py-2 border border-input bg-background text-sm",children:[(0,t.jsx)("option",{children:"Last 7 days"}),(0,t.jsx)("option",{children:"Last 30 days"}),(0,t.jsx)("option",{children:"Last 90 days"})]})]}),(0,t.jsx)(r.Card,{className:"border-2",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"border-b border-border",children:(0,t.jsxs)("tr",{className:"text-left",children:[(0,t.jsx)("th",{className:"p-4 text-sm font-medium",children:"Date"}),(0,t.jsx)("th",{className:"p-4 text-sm font-medium",children:"Service"}),(0,t.jsx)("th",{className:"p-4 text-sm font-medium",children:"Token ID"}),(0,t.jsx)("th",{className:"p-4 text-sm font-medium",children:"Customer"}),(0,t.jsx)("th",{className:"p-4 text-sm font-medium",children:"Value"}),(0,t.jsx)("th",{className:"p-4 text-sm font-medium",children:"Status"})]})}),(0,t.jsx)("tbody",{children:[{date:"Dec 20, 2025",service:"Premium Haircut",token:"#4521",customer:"0x742d...a3f2",value:"$50"},{date:"Dec 20, 2025",service:"Express Cut",token:"#4520",customer:"0x8f21...b8c4",value:"$30"},{date:"Dec 19, 2025",service:"Hair Coloring",token:"#4519",customer:"0x3a1c...d5e7",value:"$120"},{date:"Dec 19, 2025",service:"Premium Haircut",token:"#4518",customer:"0x6d42...f9a1",value:"$50"},{date:"Dec 18, 2025",service:"Express Cut",token:"#4517",customer:"0x9e51...c2b8",value:"$30"}].map((e,s)=>(0,t.jsxs)("tr",{className:"border-b border-border last:border-0 hover:bg-muted/50",children:[(0,t.jsx)("td",{className:"p-4 text-sm",children:e.date}),(0,t.jsx)("td",{className:"p-4 text-sm font-medium",children:e.service}),(0,t.jsx)("td",{className:"p-4 text-sm text-muted-foreground font-mono",children:e.token}),(0,t.jsx)("td",{className:"p-4 text-sm text-muted-foreground font-mono",children:e.customer}),(0,t.jsx)("td",{className:"p-4 text-sm font-bold",children:e.value}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:"text-xs px-2 py-1 bg-accent/10 text-accent",children:"Redeemed"})})]},s))})]})})}),(0,t.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,t.jsx)("div",{className:"text-muted-foreground",children:"Showing 5 of 186 redemptions"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(a.Button,{variant:"outline",size:"sm",children:"Previous"}),(0,t.jsx)(a.Button,{variant:"outline",size:"sm",children:"Next"})]})]})]}),(0,t.jsxs)(n.TabsContent,{value:"analytics",className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Performance Analytics"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)(r.Card,{className:"p-6 border-2",children:[(0,t.jsx)("h3",{className:"font-bold mb-4",children:"Revenue Breakdown"}),(0,t.jsx)("div",{className:"space-y-4",children:[{service:"Premium Haircut",revenue:6375,percent:42},{service:"Hair Coloring",revenue:5100,percent:34},{service:"Express Cut",revenue:2400,percent:16},{service:"Styling Session",revenue:1125,percent:8}].map((e,s)=>(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between mb-2 text-sm",children:[(0,t.jsx)("span",{children:e.service}),(0,t.jsxs)("span",{className:"font-bold",children:["$",e.revenue.toLocaleString()]})]}),(0,t.jsx)("div",{className:"w-full h-2 bg-muted overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-accent",style:{width:`${e.percent}%`}})})]},s))})]}),(0,t.jsxs)(r.Card,{className:"p-6 border-2",children:[(0,t.jsx)("h3",{className:"font-bold mb-4",children:"Redemption Trends"}),(0,t.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between py-2 border-b border-border",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Average Redemption Time"}),(0,t.jsx)("span",{className:"font-medium",children:"42 days"})]}),(0,t.jsxs)("div",{className:"flex justify-between py-2 border-b border-border",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Peak Redemption Day"}),(0,t.jsx)("span",{className:"font-medium",children:"Saturday"})]}),(0,t.jsxs)("div",{className:"flex justify-between py-2 border-b border-border",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Repeat Customer Rate"}),(0,t.jsx)("span",{className:"font-medium",children:"68%"})]}),(0,t.jsxs)("div",{className:"flex justify-between py-2",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Expired Token Rate"}),(0,t.jsx)("span",{className:"font-medium",children:"8%"})]})]})]}),(0,t.jsxs)(r.Card,{className:"p-6 border-2 md:col-span-2",children:[(0,t.jsx)("h3",{className:"font-bold mb-4",children:"Monthly Liquidity Flow"}),(0,t.jsx)("div",{className:"h-48 flex items-end justify-between gap-2",children:[45,62,58,78,85,72,68,82,95,88,92,100].map((e,s)=>(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-2",children:[(0,t.jsx)("div",{className:"w-full bg-accent/20 hover:bg-accent/30 transition-colors",style:{height:`${e}%`}}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:["J","F","M","A","M","J","J","A","S","O","N","D"][s]})]},s))})]})]})]})]})]})})]}):(0,t.jsxs)("main",{className:"min-h-screen bg-muted/30",children:[(0,t.jsx)(s.Navigation,{}),(0,t.jsx)("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,t.jsxs)(r.Card,{className:"p-8 text-center",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Register Your Business"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:"You need to register as a service provider to start tokenizing your services"}),(0,t.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,t.jsx)(a.Button,{onClick:E,disabled:v,className:"bg-accent text-accent-foreground hover:bg-accent/90",children:v?"Registering...":"Register as Provider"}),(0,t.jsx)(a.Button,{variant:"outline",onClick:()=>window.location.href="/business/register",children:"Full Registration"})]})]})})})]}):(0,t.jsxs)("main",{className:"min-h-screen bg-muted/30",children:[(0,t.jsx)(s.Navigation,{}),(0,t.jsx)("section",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,t.jsxs)(r.Card,{className:"p-8 text-center",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Connect Your Wallet"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Please connect your wallet to access the business dashboard"})]})})})]})}e.s(["default",()=>u],88075)},94059,e=>{e.v(t=>Promise.all(["static/chunks/7ffc542adf12bcda.js"].map(t=>e.l(t))).then(()=>t(31279)))},91795,e=>{e.v(t=>Promise.all(["static/chunks/d069d921d0a394c7.js"].map(t=>e.l(t))).then(()=>t(18006)))}]);